{"version":3,"sources":["../node_modules/peerjs/dist sync","api/apiHandler.js","components/Auth/UserContext.jsx","components/Auth/UserProvider.jsx","components/Auth/withUser.jsx","components/NavMain/NavMain.jsx","components/Home/Header.jsx","components/Home/ValueProposition.jsx","components/Home/Main/SectionTemplate.jsx","components/Editor/Editor.jsx","data/libraries.js","components/Home/Main/IDESection.jsx","components/Home/Main/CollaborativeEditorSection.jsx","data/homeData.js","components/Home/Main/Main.jsx","components/FooterMain/FooterMain.jsx","pages/Home.jsx","components/Forms/FormSignin.jsx","pages/Signin.jsx","components/Forms/FormSignup.jsx","socket/socket.js","pages/Signup.jsx","components/ProtectedRoute.jsx","components/LaunchLesson/LaunchSessionFunction.js","components/LaunchLesson/LaunchLessonCard.jsx","components/LaunchLesson/LaunchSessionSection.jsx","components/LaunchLesson/JoinLesson.jsx","components/Tables/NotesTable.jsx","components/Tables/LessonsTable.jsx","pages/Profile.jsx","components/Video/Video.jsx","components/Video/VideoLogic.js","components/Chat/Message.jsx","components/Chat/Chat.jsx","components/Minibrowser/Minibrowser.jsx","pages/Desk.jsx","App.jsx","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","service","axios","create","baseURL","process","withCredentials","errorHandler","error","response","data","console","log","userInfo","post","then","res","catch","get","studentId","note","delete","UserContext","React","createContext","UserProvider","state","user","isLoggedIn","isLoading","setUser","setState","removeUser","apiHandler","authValues","this","Provider","value","props","children","Component","withUser","ComponentToPassUserContextTo","Consumer","context","className","exact","to","Fragment","userName","onClick","Header","src","alt","ValueProposition","SectionTemplate","description","orientation","title","Editor","language","onChange","open","onBeforeChange","editor","options","lineWrapping","lint","mode","theme","lineNumbers","libraries","js","react","vue","templateCode","html","css","fakeConsole","IDESection","useState","setJs","srcDoc","setSrcDoc","handleRunMinibrowser","compiledSrc","useEffect","sandbox","frameBorder","collabEditorCode","CollaborativeEditorSection","teacherJs","setTeacherJs","incomingJs","setIncomingJs","studentJs","setStudentJs","isPaused","setIsPaused","prevPaused","mainSectionsContent","integratedIDE","collaborativeEditor","Main","FooterMain","Home","FormSignin","email","password","alertText","createRef","handleChange","event","key","target","name","type","files","checked","handleSubmit","preventDefault","history","push","current","style","display","ref","onSubmit","htmlFor","placeholder","contextType","withRouter","Signin","FormSignup","role","socket","Signup","component","rest","render","LaunchSessionFunction","goTo","room","pathname","LaunchLessonCard","uuidv4","LaunchSessionSection","languages","Object","map","JoinLessonSection","setRoom","split","required","NotesTable","_id","notes","setNotes","err","library","updated","lesson","noteId","prevNotes","filter","prevNote","handleDelete","colSpan","LessonsTable","lessons","setLessons","teacher","lessonId","prevLessons","prevLesson","Video","call","stream","classmateVideo","useRef","answer","on","classmateVideoStream","srcObject","streamCall","close","peer","playsInline","controls","muted","autoPlay","Message","msg","alignment","text","textType","Chat","chat","setChat","sendMsg","userId","setText","setTextType","scrollRef","scrollIntoView","behavior","prevChat","length","marginRight","Minibrowser","lessonName","sendRunMinibrowser","isChatOpen","setIsChatOpen","unreadMessage","setUnreadMessage","prevState","readOnly","disconnectSocket","disconnect","sendCode","emit","changeTab","location","firstCode","typeOfSession","setHtml","setCss","incomingHtml","setIncomingHtml","incomingCss","setIncomingCss","isHtmlTabOpen","setIsHtmlTabOpen","isCssTabOpen","setIsCssTabOpen","isJsTabOpen","setIsJsTabOpen","miniBrowserCounter","setMinibrowserCounter","userVideo","setStream","setTeacher","myPeer","setMyPeer","peerId","setPeerId","calls","setCalls","setSocketConnected","lang","openTab","io","initiateSocket","updateCode","getCode","connected","getIsConnected","teachersPeerId","getTeachersPeerId","getRunMinibrowser","getActiveTab","getMsg","navigator","mediaDevices","getUserMedia","video","width","ideal","height","audio","getCamera","Peer","undefined","secure","host","port","prevCalls","c","removeClosedCall","callPeer","sendCallMeRequest","student","App","path","Desk","Profile","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.887990cd.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 139;","import axios from \"axios\"\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_URL,\n  withCredentials: true, // Cookie is sent to client when using this service. (used for session)\n});\n\nfunction errorHandler(error) {\n  if (error.response.data) {\n    console.log(error.response && error.response.data)\n    throw error\n  }\n  throw error\n}\n\nexport default {\n  service,\n\n  signup(userInfo) {\n    return service\n      .post(\"/api/auth/signup\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler)\n  },\n\n  signin(userInfo) {\n    return service\n      .post(\"/api/auth/signin\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler)\n  },\n\n  isLoggedIn() {\n    return service\n      .get(\"/api/auth/isLoggedIn\")\n      .then((res) => res.data)\n      .catch(errorHandler)\n  },\n\n  logout() {\n    return service\n      .get(\"/api/auth/logout\")\n      .then((res) => res.data)\n      .catch(errorHandler)\n  },\n\n  getStudentNotes(studentId) {\n    return service\n      .get(`/api/notes/all/${studentId}`)\n      .then((res) => res.data)\n      .catch(errorHandler)\n  },\n\n  getNote(id) {\n    return service\n      .get(`/api/notes/${id}`)\n      .then((res) => res.data)\n      .catch(errorHandler)\n  },\n\n  createNote(note) {\n    return service \n      .post('/api/notes', note)\n      .then((res) => res.data)\n      .catch(errorHandler)\n  },\n\n  deleteNote(id) {\n    return service \n      .delete(`/api/notes/${id}`)\n      .then((res) => res.data)\n      .catch(errorHandler)\n  },\n\n  \n  getStudentLessons(studentId) {\n    return service\n      .get(`/api/lessons/student/${studentId}`)\n      .then((res) => res.data)\n      .catch(errorHandler)\n  },\n\n  getTeacherLessons(teacherId) {\n    return service\n      .get(`/api/lessons/student/${teacherId}`)\n      .then((res) => res.data)\n      .catch(errorHandler)\n  },\n\n  getLesson(id) {\n    return service\n      .get(`/api/lessons/${id}`)\n      .then((res) => res.data)\n      .catch(errorHandler)\n  },\n\n  createLesson(lesson) {\n    return service \n      .post('/api/lessons', lesson)\n      .then((res) => res.data)\n      .catch(errorHandler)\n  },\n\n  deleteLesson(id) {\n    return service \n      .delete(`/api/lessons/${id}`)\n      .then((res) => res.data)\n      .catch(errorHandler)\n  }\n  \n}\n","import React from \"react\";\n\nexport const UserContext = React.createContext();\n","import React, { Component } from \"react\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { UserContext } from \"./UserContext\";\n\nclass UserProvider extends Component {\n  state = {\n    user: null,\n    isLoggedIn: false,\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    apiHandler\n      .isLoggedIn()\n      .then((data) => {\n        this.setState({ user: data, isLoggedIn: true, isLoading: false });\n      })\n      .catch((error) => {\n        this.setState({ user: null, isLoggedIn: false, isLoading: false });\n      });\n  }\n\n  setUser = (user) => {\n    this.setState({ user, isLoggedIn: true });\n  };\n\n  removeUser = () => {\n    this.setState({ user: null, isLoggedIn: false });\n  };\n\n  render() {\n    //  Setup all the values/functions you want to expose to anybody reading\n    // from the AuthContext.\n    const authValues = {\n      user: this.state.user,\n      setUser: this.setUser,\n      removeUser: this.removeUser,\n      isLoggedIn: this.state.isLoggedIn,\n      isLoading: this.state.isLoading,\n    };\n\n    return (\n      <UserContext.Provider value={authValues}>\n        {this.props.children}\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport default UserProvider;\n","import React from \"react\";\nimport { UserContext } from \"./UserContext\";\n\n// This is what we call a HOC (Higher Order Component).\n// It takes a component as a parameter and it returns a component.\n// This technique can be used to abstract some logic in order to pass\n// some data down as props to the component sent as parameter.\n\n// The use case of this one is to make it easy to access the user context to\n// any component in our app.\n\n/* ******************************************************** */\n\n//  How to use:  =>\n// YourComponent.jsx\n// import React from \"react\"\n// function or class YourComponent()\n//\n// ... your implementation.\n//\n// export default withUser(YourComponent)\n// ----------------^ your component now has access to the user context defined in UserProvider.jsx.\n\nexport const withUser = (ComponentToPassUserContextTo) => {\n  return function (props) {\n    return (\n      <UserContext.Consumer>\n        {(context) => (\n          <ComponentToPassUserContextTo {...props} context={context} />\n        )}\n      </UserContext.Consumer>\n    );\n  };\n};\n","import React from \"react\"\nimport { NavLink } from \"react-router-dom\"\nimport { withUser } from \"../Auth/withUser\"\nimport apiHandler from \"../../api/apiHandler\"\n\nimport \"./NavMain.css\"\n\nconst NavMain = props => {\n  const { context } = props\n\n  function handleLogout() {\n    apiHandler\n      .logout()\n      .then(() => {\n        context.removeUser();\n      })\n      .catch((error) => {\n        console.log(error)\n      });\n  }\n\n  return (\n    <nav className=\"NavMain Flex AlignCenterContent\">\n      <NavLink exact to=\"/\">\n        <h3 className=\"logo text\">C<span id=\"logoO\">ö</span>de</h3>\n      </NavLink>\n      <ul className=\"nav-list\">\n        {context.isLoggedIn && (\n          <React.Fragment>           \n            <li className=\"Flex CenteredVHContent\">\n            <li className=\"Flex CenteredVHContent\">\n                <NavLink to=\"/profile\">                 \n                  <div className=\"NeuBtn Flex CenteredVHContent CTA\">\n                    <p>{context.user && context.user.userName}</p>\n                    </div>\n                </NavLink>\n            </li>\n            </li>\n            <li className=\"Flex CenteredVHContent\">\n              <p onClick={handleLogout}>Logout</p>\n            </li>\n          </React.Fragment>\n        )}\n        {!context.isLoggedIn && (\n          <React.Fragment>\n            <li className=\"Flex CenteredVHContent\">\n              <NavLink to=\"/signin\">Sign in</NavLink>\n            </li>\n            <li className=\"Flex CenteredVHContent\">\n              <NavLink to=\"/signup\">\n                <div className=\"NeuBtn CTA Flex CenteredVHContent\">\n                  <p>Sign up</p>\n                </div>\n              </NavLink>\n            </li>\n          </React.Fragment>\n        )}\n      </ul>\n    </nav>\n  );\n};\n\nexport default withUser(NavMain)\n","import React from 'react'\nimport './Header.css'\n\nconst Header = () => {\n\treturn (\n\t\t<div>\n\t\t\t<header className=\"Flex Column Header\">\n\t\t\t\t<img src=\"assets/header.png\" alt=\"https://unsplash.com/photos/KWrNwBE87EY?utm_source=unsplash&utm_medium=referral&utm_content=creditShareLink\"/>\n\t\t\t\t<div id=\"TitleHeader\">\n\t\t\t\t\t<h1 className=\"WhiteText\">Live Interactive<br/>Coding Lessons</h1>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"SubtitleHeader\">\n\t\t\t\t\t<p id=\"description\">Cöde is a modern school platform with a seamless coding experience. The integrated interactive editor and mini-browser, as well as the web-conference system, give a natural dimension to your academic journey</p>\n\t\t\t\t</div>\n\t\t\t</header>\n\t\t</div>\n\t)\n}\n\nexport default Header\n\n//https://unsplash.com/photos/KWrNwBE87EY?utm_source=unsplash&utm_medium=referral&utm_content=creditShareLink","import React from 'react'\nimport'./ValueProposition.css'\n\nconst ValueProposition = () => {\n\treturn (\n          <section\n            className=\"ValueProposition\">\n\t\t\t<h2 className=\"CenteredText WhiteText\">Learning Better and Faster</h2>\n            <div \n              className=\"Flex JustifyCenterContent AlignFlexStartContent\"\n              id=\"valuePropositionContainer\"  \n            >\n              <article className=\"Flex Column\">\n                <div className=\"Card iconBig\">\n                  <div className=\" Join\"></div>\n                </div>\n                <h3 className=\"CenteredText WhiteText\">Join</h3>\n                <p className=\"Marginless CenteredText\">Join your favourite teacher on private e-classroom for live and interactive coding-lessons.</p>\n              </article>\n              <article className=\"Flex Column\">\n                <div className=\"Card iconBig\">\n                  <div className=\"Learn\"></div>\n                </div>\n                <h3 className=\"CenteredText WhiteText\">Learn</h3>\n                <p className=\"Marginless CenteredText\">You can pause at any time and experiment with the code. Then just hit play and resume the teacher's stream</p>\n              </article>\n              <article className=\"Flex Column\">\n                <div className=\"Card iconBig\">\n                  <div className=\"Relearn\"></div>\n                </div>\n                <h3 className=\"CenteredText WhiteText\">Re-learn</h3>\n                <p className=\"Marginless CenteredText\">A save-button allows you to save entire code pieces and re-access them later, to maximize your learning experience</p>\n              </article>\n            </div>\n          </section>\n\t)\n}\n\nexport default ValueProposition\n","import React from 'react'\nimport './SectionTemplate.css'\n\nconst SectionTemplate = ({ children, description, orientation }) => {\t\n\n\treturn (\n\t\t<section className={`SectionTemplate ${orientation}`}>\n\t\t\t<div className=\"Description\">\n\t\t\t\t<h3>{description.title}</h3>\n\t\t\t\t<p>{description.description}</p>\n\t\t\t</div>\n\t\t\t<div className=\"SectionChildProp\">\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t</section>\n\t)\n}\n\nexport default SectionTemplate\n","import React from 'react'\nimport 'codemirror/lib/codemirror.css'\nimport 'codemirror/theme/material.css'\nimport 'codemirror/mode/xml/xml'\nimport 'codemirror/mode/javascript/javascript'\nimport 'codemirror/mode/jsx/jsx'\nimport 'codemirror/mode/css/css'\nimport './Editor.css'\nimport { Controlled as ControlledEditor } from 'react-codemirror2'\n\nconst Editor = props => {\n\n\tconst {\n\t\tlanguage,\n\t\tvalue,\n\t\tonChange,\n\t\topen\n\t} = props\n\n\tconst handleChange = (editor, data, value) => {\n\t\tonChange(value, language)\n\t}\n\n\treturn (\n\t\t<div className={`editor-container ${open ? '' : 'collapsed'}`}>\n\t\t\t<ControlledEditor\n\t\t\t\tonBeforeChange={handleChange}\n\t\t\t\tvalue={value}\n\t\t\t\tclassName=\"code-mirror-wrapper\"\n\t\t\t\toptions={{\n\t\t\t\t\tlineWrapping: true,\n\t\t\t\t\tlint:true,\n\t\t\t\t\tmode:language,\n\t\t\t\t\ttheme: 'material',\n\t\t\t\t\tlineNumbers: true\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default Editor\n","export const libraries = {\n\t\tjs:' ',\n\t\treact: `\n\t\t\t<script crossorigin src=\"https://unpkg.com/react@16/umd/react.development.js\"></script>\n\t\t\t<script crossorigin src=\"https://unpkg.com/react-dom@16/umd/react-dom.development.js\"></script>\n\t\t\t<script src=\"https://unpkg.com/babel-standalone@6/babel.min.js\"></script>\n\t\t`,\n\t\tvue: `\n\t\t\t<script src=\"https://cdn.jsdelivr.net/npm/vue/dist/vue.js\"></script>\n\t\t`\n}\n\nexport const templateCode = {\n\tjs: {\n\t\thtml:'<h1 id=\"test\">Yo, welcome to your Vanilla js</h1>',\n\t\tcss:`h1 {\n\tcolor: #333;\n\tfont-family: 'Helvetica', sans-serif;\n\ttext-align: center;\n}`,\n\t\tjs: 'document.getElementById(\"test\").innerHTML += \" lesson!\"'\n\t},\n\treact: {\n\t\thtml:'<div id=\"root\"></div>',\n\t\tcss:`h1 {\n\tcolor: #333;\n\tfont-family: 'Helvetica', sans-serif;\n\ttext-align: center;\n}`,\n\t\tjs: `const App = props => <h1>Yo,{props.welcome}</h1>\n\t\t\nReactDOM.render(<App welcome=\" welcome to your React lesson!\" />, document.getElementById('root'))\n`},\n\tvue: {\n\t\thtml:'<h1 id=\"welcome\">{{ welcome }}</h1>',\n\t\tcss:`h1 {\n\tcolor: #333;\n\tfont-family: 'Helvetica', sans-serif;\n}`,\n\t\tjs: `new Vue({\n\tel: '#welcome',\n\tdata: {\n\t\twelcome: \"Yo, welcome to your Vue lesson\"\n\t}\n})`\n\t}\n}\n\nexport const fakeConsole = {\n\thtml: `\n<button class=\"togglerd5ti9Wa73x4A1y4p\" id=\"togglerd5ti9Wa73x4A1y4p\">></button>\n<div class=\"consoled5ti9Wa73x4A1y4p collapsedd5ti9Wa73x4A1y4p\" id=\"consoled5ti9Wa73x4A1y4p\"><ul id=\"logsd5ti9Wa73x4A1y4p\"></ul></div>\n`,\n\tcss: `\n<style>\n\t\t\t\n\t*, *::before, *::after {\n\t\tbox-sizing: border-box;\n\t}\n\n\t#consoled5ti9Wa73x4A1y4p {\n\t\toverflow: auto;\n\t\tpadding: 10px 10px 0 10px;\n\t}\n\t.consoled5ti9Wa73x4A1y4p.collapsedd5ti9Wa73x4A1y4p {\n\t\twidth: 20px;\n\t\theight: 20px;\n\t\tbottom: 5px;\n\t\tmargin-left: -10px;\n\t\tborder-radius: 10px;\n\t\tz-index: 1000;\n\t}\n\n\t.consoled5ti9Wa73x4A1y4p {\n\t\tposition: fixed;\n\t\tbottom: 15px;\n\t\tleft: 50%;\n\t\tmargin-left: -200px;\n\t\twidth: 400px;\n\t\tmax-width:100%;\n\t\theight: 200px;\n\t\tmargin-right: 5px;\n\t\tbackground-color: black;\n\t\ttransition: 200ms ease-out;\n\t}\n\n\t#logsd5ti9Wa73x4A1y4p {\n\t\tlist-style: none;\n\t\tmargin-left: 0;\n\t\tpadding-left: 1.2em;\n\t\ttext-indent: -1.2em;\n\t}\n\n\t#logsd5ti9Wa73x4A1y4p li {\n\t\tcolor: white;\n\t\tfont-family: monospace;\n\t}\n\n\t#logsd5ti9Wa73x4A1y4p li:before {\n\t\tcontent: \">\";\n\t\tdisplay: block;\n\t\tfloat: left;\n\t\twidth: 1.2em;;\n\t}\n\n\t.togglerd5ti9Wa73x4A1y4p {\n\t\tposition: fixed;\n\t\tbottom: 5px;\n\t\tleft: 50%;\n\t\twidth: 20px;\n\t\theight: 20px;\n\t\tmargin-left: -10px;\n\t\tborder: none;\n\t\tborder-radius: 10px;\n\t\tz-index: 5000;\n\t\tbackground-color: black;\n\t\tcolor: white;\n\t\ttransform: rotate(-90deg);\n\t\ttransition: 200ms ease-out;\n\t}\n\n\t.togglerd5ti9Wa73x4A1y4p.closed5ti9Wa73x4A1y4p {\n\t\ttransform: rotate(90deg);\n\t\tbottom: 205px;\n\t\ttransition: 200ms ease-out;\n\t}\n\n\t#togglerd5ti9Wa73x4A1y4p:focus {\n\t\toutline:0;\n\t}\n\n</style>\t\n`,\n\tjs: `\n<script>\n\t//get fake-console and fake-logs references\n\tconst fakeConsoled5ti9Wa73x4A1y4p = document.getElementById('consoled5ti9Wa73x4A1y4p')\n\tconst logsd5ti9Wa73x4A1y4p = document.getElementById('logsd5ti9Wa73x4A1y4p')\n\t//ovverride console.log\n\tconst backUpConsoleLogd5ti9Wa73x4A1y4p = console.log\n\tconsole.log = (...args) => {\n\t\targs.forEach(arg => {\n\t\t\tbackUpConsoleLogd5ti9Wa73x4A1y4p(arg)\n\t\t\tconst li = document.createElement('li')\n\t\t\tli.innerHTML = arg\n\t\t\tlogsd5ti9Wa73x4A1y4p.append(li)\n\t\t})\t\t\t\n\t}\n\t//log errors too\n\twindow.addEventListener('error', ({ message }) => console.log(message))\n\t//toggle open/close console\n\tconst toggleConsoled5ti9Wa73x4A1y4p = e => {\n\t\tfakeConsoled5ti9Wa73x4A1y4p.classList.toggle(\"collapsedd5ti9Wa73x4A1y4p\")\n\t\te.target.classList.toggle('closed5ti9Wa73x4A1y4p')\n\t}\n\tconst togglerd5ti9Wa73x4A1y4p = document.getElementById('togglerd5ti9Wa73x4A1y4p')\n\ttogglerd5ti9Wa73x4A1y4p.addEventListener('click', toggleConsoled5ti9Wa73x4A1y4p)\n</script>\n\n`\n}\n\n/*\ninstead of babel, this is lighter but doesn't recognise closing tag without space, eg => <App/> NO, <App /> YES\n<script src=\"https://cdn.jsdelivr.net/npm/dataformsjs@4.8.0/js/react/jsxLoader.min.js\"></script>\n*/ \n\n/*\nd3 script\nd3: '<script src=\"https://d3js.org/d3.v5.min.js\"></script>',\n*/\n\n/*\nTypescript: https://github.com/basarat/typescript-script \n*/\n\n/* \nBootstrap \n*/\n","import React, { useState, useEffect } from 'react'\nimport Editor from '../../Editor/Editor'\nimport { libraries, templateCode } from '../../../data/libraries'\nimport './IDESection.css'\nimport '../../Editor/Editor.css'\nimport '../../Minibrowser/Minibrowser.css'\n\nconst tryMeCode = `//Play with the code below\n\nconst App = () => {\n\n\tconst [ count, setCount ] = React.useState(3)\n\n\treturn(\n\t\t<div>\n\t\t\t<h1>This app is {count} times coleer!</h1>\n\t\t\t<button\n\t\t\tonClick={() => setCount(prev => prev + 1)}\n\t\t\t>\n\t\t\t<h1>Try me!</h1>\n\t\t\t</button>\n\t\t</div>\n\t)\n}\n\t\t\nReactDOM.render(\n\t<App />,\n\tdocument.getElementById('root')\n) `\n\nconst IDESection = () => {\n\tconst [ js, setJs] = useState(tryMeCode)\n\tconst [ srcDoc, setSrcDoc ] = useState('')\n\n\tconst handleChange = value => {\n\t\tsetJs(value)\n\t}\n\n\tconst handleRunMinibrowser = () => {\n\t\tconst libraryTag = libraries['react']\n\t\t\n\t\tconst compiledSrc = `\n\t\t\t<!DOCTYPE html>\n\t\t\t<html>\n\t\t\t<head>\n\t\t\t\t<meta charset=\"UTF-8\">\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\t\t\t\t<meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n\t\t\t\t<title>HTML Document</title>\n\t\t\t\t${ libraryTag }\n\t\t\t</head>\n\t\t\t<body>\n\t\t\t\t${templateCode.react.html}\n\t\t\t</body>\n\t\t\t<script type=\"text/babel\">\n\t\t\t\t${ js }\n\t\t\t</script>\n\t\t\t</html>\n\t\t`\n\t\tsetSrcDoc(compiledSrc)\n\t}\n\n\tuseEffect(() => {\n\t\tconsole.log(js)\n\t\thandleRunMinibrowser()\n\t}, [])\n\n\treturn (\n\t\t<div className=\"IDESection\">\n\t\t\t<div className=\"MainPanel\">\n\t\t\t\t<div className=\"Flex AlignCenterContent MainPanelHeader\">\n\t\t\t\t\t<button className=\"NeuBtn\">app.jsx</button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"Flex Column Card BgPrimary EditorsWrapper\">\n\t\t\t\t\t<Editor \n\t\t\t\t\t\tlanguage=\"jsx\"\n\t\t\t\t\t\tvalue={ js }\n\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\topen={ true }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"MainPanel\">\n\t\t\t\t<div className=\"Flex AlignCenterContent MainPanelHeader\">\n\t\t\t\t\t<button \n\t\t\t\t\t\tclassName='NeuBtn IconBtn RunBtn'\n\t\t\t\t\t\tonClick={ handleRunMinibrowser }\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className='iconContainer'>\n\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\tclassName='Run'>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"HomePageMiniBrowser\">\n\t\t\t\t\t<iframe\n\t\t\t\t\t\t\tsrcDoc={ srcDoc }\n\t\t\t\t\t\t\ttitle=\"output\"\n\t\t\t\t\t\t\tsandbox=\"allow-scripts\"\n\t\t\t\t\t\t\tframeBorder=\"0\"\n\t\t\t\t\t\t/>\t\n\t\t\t\t</div>\n\t\t\t</div>\t\t\n\t\t</div>\n\t)\n}\n\nexport default IDESection\n","import React, { useState, useEffect } from 'react'\nimport Editor from '../../Editor/Editor'\nimport './CollaborativeEditorSection.css'\nimport '../../../styles/Desk.css'\n\nconst collabEditorCode = `//Write on the teacher's editor\n\n//Then hit the 'pause' button and write on both student's and teacher's editor\n\n//Finally press 'play' and try typing on both and see what happens!`\n\n\nexport const CollaborativeEditorSection = () => {\n\n\tconst [ teacherJs, setTeacherJs] = useState(collabEditorCode)\n\tconst [ incomingJs, setIncomingJs] = useState(collabEditorCode)\n\tconst [ studentJs, setStudentJs] = useState(collabEditorCode)\n\tconst [ isPaused, setIsPaused ] = useState(false)\n\n\tconst handleTeachersChange = value => setTeacherJs(value)\n\tconst handleStudentsChange = value => setStudentJs(value)\n\n\tuseEffect(() => {\n\t\tsetIncomingJs(teacherJs)\n\t}, [ teacherJs ])\n\n\tuseEffect(() => {\n\t\t!isPaused && setStudentJs(incomingJs)\n\t}, [ incomingJs, isPaused ])\n\n\treturn (\n\t\t<div className=\"CollaborativeEditorSection Card\">\n\t\t\t<div className=\"InnerPannel\">\n\t\t\t\t<div className=\"Flex AlignCenterContent EditorsInnerHeader\">\n\t\t\t\t\t<p>Teacher</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"Flex Column BgPrimary EditorsWrapper\">\n\t\t\t\t\t<Editor \n\t\t\t\t\t\tlanguage=\"js\"\n\t\t\t\t\t\tvalue={ teacherJs }\n\t\t\t\t\t\tonChange={ handleTeachersChange }\n\t\t\t\t\t\topen={ true }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id=\"EditorsSeparator\"></div>\n\t\t\t<div className=\"InnerPannel\">\n\t\t\t\t<div className=\"Flex SpaceBetween AlignCenterContent EditorsInnerHeader\">\n\t\t\t\t\t<p>Student</p>\n\t\t\t\t\t<button \n\t\t\t\t\t\tonClick= {\n\t\t\t\t\t\t() =>{\n\t\t\t\t\t\t\tsetIsPaused(prevPaused => !prevPaused)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={`NeuBtn ${isPaused ? 'Down' : ''} IconBtn`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className='iconContainer'>\n\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\tisPaused \n\t\t\t\t\t\t\t\t? 'Play' \n\t\t\t\t\t\t\t\t: 'Pause'\n\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"Flex Column BgPrimary EditorsWrapper\">\n\t\t\t\t\t<Editor \n\t\t\t\t\t\tlanguage=\"js\"\n\t\t\t\t\t\tvalue={ studentJs }\n\t\t\t\t\t\tonChange={ handleStudentsChange }\n\t\t\t\t\t\topen={ true }\n\t\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default CollaborativeEditorSection\n","export const mainSectionsContent = {\n\tintegratedIDE: {\n\t\ttitle: 'Web IDE',\n\t\tdescription: 'Write your code in the editor and see the result in the integrated browser by clicking on the small \\'reload\\' icon.\\nCöde\\'s IDE is able to compile the majority of JavaScript frameworks and libraries'\n\t},\n\tcollaborativeEditor: {\n\t\ttitle: 'A new generation of collaborative editors',\n\t\tdescription: 'Teahcer\\'s code is streamed live over to students\\' editors, and they can interact and experiment with it in the IDE, and resume the stream at any moment, without affecting the code on other editors, thanks to the \\'play/pause\\' button.'\n\t}\n}","import React from 'react'\nimport SectionTemplate from './SectionTemplate'\nimport IDESection from './IDESection'\nimport CollaborativeEditorSection from './CollaborativeEditorSection'\nimport { mainSectionsContent } from '../../../data/homeData'\n\nconst Main = () => {\n\treturn (\n\t\t<main>\n\t\t\t<SectionTemplate description={ mainSectionsContent.integratedIDE } orientation=\"Regular\">\n\t\t\t\t<IDESection />\n\t\t\t</ SectionTemplate>\n\t\t\t<SectionTemplate description={ mainSectionsContent.collaborativeEditor } orientation=\"Reversed\">\n\t\t\t\t<CollaborativeEditorSection />\n\t\t\t</ SectionTemplate>\n\t\t</main>\n\t)\n}\n\nexport default Main\n","import React from 'react'\nimport './FooterMain.css'\n\nconst FooterMain = () => {\n\n\treturn (\n\t\t<footer className=\"FooterMain Flex CenteredVHContent\">\n\t\t\t<p className=\"CenteredText\">Made by Aÿlo</p>\n\t\t</footer>\n\t)\n}\n\nexport default FooterMain\n","import React from \"react\"\nimport Header from '../components/Home/Header'\nimport ValueProposition from '../components/Home/ValueProposition'\nimport Main from '../components/Home/Main/Main'\nimport FooterMain from '../components/FooterMain/FooterMain'\nimport '../styles/Home.css'\n\nconst Home = () => {\n    return (\n      <div>\n        <Header />\n        <ValueProposition />\n        <Main />\n        <FooterMain />\n      </div>\n    )\n}\n\nexport default Home\n","import React, { Component, createRef } from \"react\"\nimport { UserContext } from \"../Auth/UserContext\"\nimport { withRouter } from \"react-router-dom\"\nimport apiHandler from \"../../api/apiHandler\"\nimport './Form.css'\n\nclass FormSignin extends Component {\n  static contextType = UserContext\n\n  state = {\n    email: \"\",\n    password: \"\",\n  }\n\n  alertText = createRef()\n\n  handleChange = (event) => {\n    const key = event.target.name\n\n    // You can test more if you have to handle different sorts of inputs.\n    const value =\n      event.target.type === \"file\"\n        ? event.target.files[0]\n        : event.target.type === \"checkbox\"\n        ? event.target.checked\n        : event.target.value\n\n    this.setState({ [key]: value })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n\n    apiHandler\n      .signin(this.state)\n      .then((data) => {\n        this.context.setUser(data);\n        this.props.history.push(\"/profile\")\n      })\n      .catch((error) => {\n        console.log(error)\n        this.alertText.current.style.display = 'block'\n      })\n  }\n\n  render() {\n    return (\n      <div>\n        <div \n          ref={this.alertText} \n          style={{display:\"none\"}}\n          className=\"Card BgTertiary AlertMsg\"\n        >\n          <p>\n            Wrong credentials !\n            <br />\n            Please try again\n          </p>\n        </div>\n        <form \n          className=\"Flex Column AlignCenterContent InsetCard Form\"\n          onChange={ this.handleChange } \n          onSubmit={ this.handleSubmit }\n        >\n          <label htmlFor=\"email\">Email</label>\n          <input \n            className=\"Input\"\n            type=\"email\"\n            id=\"email\" \n            name=\"email\" \n            placeholder=\"ada@lovelace.dev\"\n          />\n          <label htmlFor=\"password\">Password</label>\n          <input \n            className=\"Input\"\n            type=\"password\" \n            id=\"password\" \n            name=\"password\" \n            placeholder=\"●●●●●●\"\n          />\n          <button \n            className=\"NeuBtn CTA\"\n            id=\"SubmitBtn\" \n          >\n            Submit\n          </button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(FormSignin)","import React from \"react\";\nimport FormSignin from \"../components/Forms/FormSignin\";\n\nconst Signin = (props) => {\n  return <FormSignin />;\n};\n\nexport default Signin;\n","import React, { Component, createRef } from \"react\"\nimport { withRouter } from \"react-router-dom\"\nimport { UserContext } from \"../Auth/UserContext\"\nimport apiHandler from \"../../api/apiHandler\"\nimport './Form.css'\n\nclass FormSignup extends Component {\n  static contextType = UserContext\n\n  state = {\n    userName: '',\n    email: '',\n    password: '',\n    role:'student'\n  }\n\n  alertText = createRef()\n\n  handleChange = (event) => {\n    const value =\n      event.target.type === 'file'\n        ? event.target.files[0]\n        : event.target.type === 'checkbox'\n        ? event.target.checked\n        : event.target.value;\n\n    const key = event.target.name;\n\n    this.setState({ [key]: value })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n\n    apiHandler\n      .signup(this.state)\n      .then((data) => {\n        this.context.setUser(data)\n        console.log(data)\n        this.props.history.push('/profile')\n      })\n      .catch((error) => {\n        console.log(error)\n        this.alertText.current.style.display = 'block'\n      })\n  }\n\n  render() {\n    return (\n      <div>\n        <div \n          ref={this.alertText} \n          style={{display:\"none\"}}\n          className=\"Card BgTertiary AlertMsg\"\n        >\n          <p>\n            This email is already taken !\n            <br />\n            Please try again\n          </p>\n        </div>\n\n        <form \n          className=\"Flex Column AlignCenterContent InsetCard Form\"\n          onChange={this.handleChange} \n          onSubmit={this.handleSubmit}\n        >\n        <label htmlFor='userName'>User name</label>\n          <input \n            className=\"Input\"\n            type='text' \n            id='userName' \n            name='userName'\n            onChange={this.handleChange}\n            placeholder=\"Ada\"\n          />\n\n          <label htmlFor='email'>Email</label>\n          <input\n            className=\"Input\" \n            type='email' \n            id='email' \n            name='email'\n            onChange={this.handleChange}\n            placeholder=\"ada@lovelace.dev\"\n          />\n          \n          <label htmlFor='password'>Password</label>\n          <input \n            className=\"Input\"\n            type='password' \n            id='password' \n            name='password'\n            onChange={this.handleChange}\n            placeholder=\"●●●●●●\"\n          />\n          \n          <label htmlFor='password'>I am a ...</label>\n          <div className=\"Select BgPrimary\">\n            <select \n              className=\"BgPrimary\"\n              name='role' \n              value={this.state.role}\n              onChange={this.handleChange}\n            >\n              <option value=''>--Pleaseselect--</option>\n              <option value='student'>Student</option>\n              <option value='teacher'>Teacher</option>\n            </select>\n          </div>\n          <button id=\"SubmitBtn\" className=\"NeuBtn CTA\">Submit</button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(FormSignup)\n","import io from 'socket.io-client'\n\nlet socket\n\nexport const initiateSocket = (room, userId, role) => {\n\tsocket = io(process.env.REACT_APP_BACKEND_URL)\n\tif (socket && room) socket.emit('join', room, userId, role)\n}\n\nexport const getTeachersPeerId = setTeacher => {\n\tif (!socket) return(true)\n\tsocket.on('teacher is', teachersPeerId => setTeacher(teachersPeerId))\n}\n\nexport const getIsConnected = setSocketConnected => {\n\tsocket.on('connect', () => {\n\t\tsetSocketConnected(socket.connected)\n\t})\n} \n\nexport const disconnectSocket = () => {\n  console.log('Disconnecting socket...')\n  if(socket) socket.disconnect()\n}\n\nexport const sendCode = (room, code, userId) => {\n\tif (socket) socket.emit('coding', code, room, userId)\n}\n\nexport const getCode = updateCode => {\n\tif (!socket) return(true)\n  \tsocket.on('sendingCode', ( code, userName ) => {\n\t\tconsole.log(`Websocket event received (${code})! from ${userName}`)\n\t\tupdateCode(code)\n\t})\n}\n\nexport const sendMsg = (room, msg) => {\n\tif (socket) socket.emit('chat', room, msg )\n}\n\nexport const getMsg = setChat => {\n\tif (!socket) return(true)\n  \tsocket.on('chat', msg => {\n\t\tsetChat(prevChat => [...prevChat, msg])\n\t})\n}\n\nexport const getRunMinibrowser = ( setMinibrowserCounter, miniBrowserCounter ) => {\n\tif(socket){\n\t\tsocket.on('runMinibrowser', userName => {\n\t\t\tconsole.log(`${userName} just run de the minibrowser`)\n\t\t\tsetMinibrowserCounter(miniBrowserCounter + 1)\n\t\t})\n\t}\n} \n\nexport const sendRunMinibrowser = ( room, userName) => {\n\tif (socket) socket.emit('runMinibrowser', room, userName)\n}\n\nexport const changeTab = (room, html, css, js) => {\n\tif (socket) socket.emit('changeTab', room, html, css, js)\n}\n\nexport const getActiveTab = (isHtmlTabOpen, isCssTabOpen, isJsTabOpen) => {\n\tif (socket) {\n\t\tsocket.on('changeTab', (html, css, js) => {\n\t\t\tisHtmlTabOpen(html)\n\t\t\tisCssTabOpen(css)\n\t\t\tisJsTabOpen(js)\n\t\t})\n\t}\n}\n\nexport const sendCallMeRequest = (peerId, room) => {\n\tif (socket) socket.emit('callMe', peerId, room)\n}\n\nexport const callPeer = ( stream, myPeer, setCalls ) => {\n\tif (socket) {\n\t\tsocket.on('callMe', peerId => {\n\t\t\tconst call = myPeer.call(peerId, stream)\n\t\t\tconsole.log('calling', peerId, call)\n\t\t\tsetCalls(prevCalls => [ ...prevCalls, call ])\n\t\t})\n\t}\n}\n\nexport const removeClosedCall = setCalls => {\n\tif (socket) {\n\t\tsocket.on('I quit', peerId => {\n\t\t\tsetCalls(prevCalls => prevCalls.filter(c => c.peer !== peerId))\n\t\t})\n\t}\n}","import React from \"react\";\nimport FormSignup from \"../components/Forms/FormSignup\";\n\nconst Signup = (props) => {\n  return <FormSignup />;\n};\n\nexport default Signup;\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { withUser } from \"../components/Auth/withUser\";\n\nconst ProtectedRoute = ({ component: Component, context, ...rest }) => {\n  if (context.isLoading) {\n    return null;\n  } else if (context.isLoggedIn) {\n    return <Route {...rest} render={(props) => <Component {...props} />} />;\n  } else {\n    return <Redirect to=\"/signin\" />;\n  }\n};\n\nexport default withUser(ProtectedRoute);\n","export const LaunchSessionFunction = ( { props }, { room, code }, goTo ) => {\n\tprops.history.push({\n\t\tpathname: goTo,\n\t\tstate: { \n\t\t\troom,\n\t\t\tcode \n\t\t}\n\t})\n}","import React from 'react'\nimport { LaunchSessionFunction } from './LaunchSessionFunction'\nimport { templateCode } from '../../data/libraries'\nimport './LaunchLessonCard.css'\n\nconst LaunchLessonCard = ({ props, language, uuidv4 }) => {\n\treturn (\n\t\t<div className=\"Flex Column CenteredVHContent LaunchLessonCard\">\n\t\t\t<div className=\"ImgContainer LaunchSessionImg\">\n\t\t\t\t<img src={`assets/${language}Logo.jpg`} alt={`${language} logo`}/>\n\t\t\t</div>\n\t\t\t<div className=\"Flex LaunchBtns\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"NeuBtn LaunchLessonBtn\"\n\t\t\t\t\tonClick={() => LaunchSessionFunction(props, { \n\t\t\t\t\t\t\troom:`${language}-lesson-${uuidv4()}`, \n\t\t\t\t\t\t\tcode: templateCode[language] \n\t\t\t\t\t\t}, '/desk')\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\tLesson<br/>Mode\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"NeuBtn LaunchLessonBtn\"\n\t\t\t\t\tonClick={() => LaunchSessionFunction(props, { \n\t\t\t\t\t\t\troom:`${language}-stream-${uuidv4()}`, \n\t\t\t\t\t\t\tcode: templateCode[language] \n\t\t\t\t\t\t}, '/desk')\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\tStream<br/>Session\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default LaunchLessonCard\n","import React from 'react'\nimport LaunchLessonCard from './LaunchLessonCard'\nimport { v4 as uuidv4 } from 'uuid'\nimport { libraries } from '../../data/libraries'\nimport './LaunchSessionSection.css'\n\nconst LaunchSessionSection = props => {\n\tconst languages = Object.keys(libraries)\n\tconsole.log('section', props, languages)\n\treturn (\n\t\t<div className=\"LaunchSessionSection\">\n\t\t\t<div>\n\t\t\t\t<h2 className=\"CenteredText WhiteText\">Launch a new session</h2>\n\t\t\t</div>\n\t\t\t<div className=\"Flex\">\n\t\t\t\t{\n\t\t\t\t\tlanguages.map( language => <LaunchLessonCard \n\t\t\t\t\t\t\tkey={language} \n\t\t\t\t\t\t\tprops={props} \n\t\t\t\t\t\t\tlanguage={language} \n\t\t\t\t\t\t\tuuidv4={uuidv4} \n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default LaunchSessionSection\n","import React,{ useState } from 'react'\nimport { LaunchSessionFunction } from './LaunchSessionFunction'\nimport { templateCode } from '../../data/libraries'\nimport './JoinLesson.css'\n\nconst JoinLessonSection = props => {\n\tconst [ room, setRoom ] = useState('')\n\tconst handleOnSubmit = e => {\n\t\tconst language = room.split('-')[0]\n\t\te.preventDefault()\n\t\tLaunchSessionFunction(props, { room, code: templateCode[language] }, '/desk')\n\t}\n\treturn (\n\t\t<div className=\"JoinLesson Flex CenteredVHContent\">\n\t\t\t<div>\n\t\t\t\t<h2 className=\"CenteredText WhiteText\">Join a new Lesson</h2>\n\t\t\t\t<form \n\t\t\t\t\tclassName=\"Flex Column FormContainer CenteredVHContent\"\n\t\t\t\t\tonSubmit={handleOnSubmit}\n\t\t\t\t>\n\t\t\t\t\t<label htmlFor=\"join-lesson\">Paste the Lesson Room and hit \"Join\"</label>\n\t\t\t\t\t<input \n\t\t\t\t\t\tclassName=\"Input\"\n\t\t\t\t\t\tid=\"join-lesson\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={ room }\n\t\t\t\t\t\tonChange={e => setRoom(e.target.value)}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<div id=\"JoinBtn\">\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\tclassName=\"NeuBtn CTA\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tvalue=\"Join\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default JoinLessonSection\n","import React, { useState, useEffect } from 'react'\nimport Table from './Table'\nimport apiHandler from '../../api/apiHandler'\nimport { LaunchSessionFunction } from '../LaunchLesson/LaunchSessionFunction'\nimport './NotesTable.css'\n\nconst NotesTable = ({ props }) => {\n\tconst id = props.context.user._id\n\tconsole.log('props', props)\n\tconst [ notes, setNotes] = useState('')\n\n\tconst handleDelete = id => {\n\t\tconsole.log('id', id)\n\t\tapiHandler\n\t\t\t.deleteNote(id)\n\t\t\t.then(noteId => {\n\t\t\t\tconsole.log(noteId)\n\t\t\t\tsetNotes(prevNotes => {\n\t\t\t\t\tconst newNotes = prevNotes.filter(prevNote => prevNote._id !== noteId)\n\t\t\t\t\treturn newNotes\n\t\t\t\t})\n\t\t\t})\n\t}\n\n\tconst handleOpen = ( room, html, css, js ) => {\t\n\t\tconst code = {\n\t\t\thtml, \n\t\t\tcss,\n\t\t\tjs\n\t\t}\n\t\tLaunchSessionFunction( { props }, { room, code}, '/desk')\n\t}\n\n\tuseEffect(() => {\n\t\tapiHandler\n\t\t\t.getStudentNotes(id)\n\t\t\t.then( data => setNotes(data))\n\t\t\t.catch(err => console.error('student notes', err))\n\t}, [])\n\tconsole.log(notes)\n\treturn (\n\t\t<div \n\t\t\tclassName=\"TableSection Flex Column AlignCenterContent\">\n\t\t\t<h2 className=\"CenteredText WhiteText\">Your notes</h2>\n\t\t\t<div \n\t\t\t\tclassName=\"InsetCard TableContainer\"\n\t\t\t\tid=\"NotesTableContainer\"\n\t\t\t>\n\t\t\t\t<table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th className=\"text\">Topic</th>\n\t\t\t\t\t\t\t<th className=\"text\">Date</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnotes[0] \n\t\t\t\t\t\t\t\t? notes.map(note => {\n\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t<tr key={note._id}>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text\" >\n\t\t\t\t\t\t\t\t\t\t\t\t{note.library}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text\" >\n\t\t\t\t\t\t\t\t\t\t\t\t{note.updated}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"NeuBtn IconBtn\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"GoToBtn\" \n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleOpen(note.lesson, note.html, note.css, note.js )}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"Code\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"NeuBtn IconBtn\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"DeleteBtn\" \n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDelete(note._id)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"Delete Flex CenteredVHContent\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"InnerDelete\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t: <tr>\n\t\t\t\t\t\t\t\t\t<td \n\t\t\t\t\t\t\t\t\t\tclassName=\"text\" \n\t\t\t\t\t\t\t\t\t\tcolSpan=\"5\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tYou haven't coded yet\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t    \n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t    \n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr> \n\t\t\t\t\t\t}\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>{}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default NotesTable\n","import React, { useState, useEffect } from 'react'\nimport Table from './Table'\nimport apiHandler from '../../api/apiHandler'\nimport { LaunchSessionFunction } from '../LaunchLesson/LaunchSessionFunction'\nimport './NotesTable.css'\n\nconst LessonsTable = ({ props }) => {\n\tconst { _id:id, role } = props.context.user\n\tconsole.log('props', props)\n\tconst [ lessons, setLessons] = useState('')\n\n\tconst handleDelete = id => {\n\t\tconsole.log('id', id)\n\t\tapiHandler\n\t\t\t.deleteLesson(id)\n\t\t\t.then(lessonId => {\n\t\t\t\tconsole.log(lessonId)\n\t\t\t\tsetLessons(prevLessons => {\n\t\t\t\t\tconst newLessons = prevLessons.filter(prevLesson => prevLesson._id !== lessonId)\n\t\t\t\t\treturn newLessons\n\t\t\t\t})\n\t\t\t})\n\t}\n\n\tconst handleOpen = ( room, html, css, js ) => {\t\n\t\tconst code = {\n\t\t\thtml, \n\t\t\tcss,\n\t\t\tjs\n\t\t}\n\t\tLaunchSessionFunction( { props }, { room, code}, '/desk')\n\t}\n\n\tuseEffect(() => {\n\t\tapiHandler\n\t\t\t.getStudentLessons(id)\n\t\t\t.then( data => setLessons(data))\n\t\t\t.catch(err => console.error('student lessons', err))\n\t}, [])\n\n\tconsole.log(lessons)\n\treturn (\n\t\t<div \n\t\t\tclassName=\"TableSection Flex Column AlignCenterContent\">\n\t\t\t<h2 className=\"CenteredText WhiteText\">Your lessons</h2>\n\t\t\t<div \n\t\t\t\tclassName=\"InsetCard TableContainer\"\n\t\t\t\tid=\"LessonsTableContainer\"\n\t\t\t>\n\t\t\t\t<table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th className=\"text\">Topic</th>\n\t\t\t\t\t\t\t<th className=\"text\">Teacher</th>\n\t\t\t\t\t\t\t<th className=\"text\">Date</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlessons[0] \n\t\t\t\t\t\t\t\t? lessons.map(lesson => {\n\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t<tr key={lesson._id}>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text\" >\n\t\t\t\t\t\t\t\t\t\t\t\t{lesson.library}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text\" >\n\t\t\t\t\t\t\t\t\t\t\t\t{lesson.teacher.userName}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text\" >\n\t\t\t\t\t\t\t\t\t\t\t\t{lesson.updated}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"NeuBtn IconBtn\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"GoToBtn\" \n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleOpen(lesson.lesson, lesson.html, lesson.css, lesson.js )}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"Code\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\trole === 'teacher' && (\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"NeuBtn IconBtn\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"DeleteBtn\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDelete(lesson._id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"Delete Flex CenteredVHContent\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"InnerDelete\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t: <tr>\n\t\t\t\t\t\t\t\t\t<td \n\t\t\t\t\t\t\t\t\t\tclassName=\"text\" \n\t\t\t\t\t\t\t\t\t\tcolSpan=\"5\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tYou haven't coded yet\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t    \n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t    \n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr> \n\t\t\t\t\t\t}\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>{}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default LessonsTable\n\n","import React from \"react\"\nimport LaunchLessonSection from '../components/LaunchLesson/LaunchSessionSection'\nimport JoinLesson from '../components/LaunchLesson/JoinLesson'\nimport NotesTable from '../components/Tables/NotesTable'\nimport LessonsTable from '../components/Tables/LessonsTable'\nimport { withUser } from '../components/Auth/withUser'\nimport '../styles/Profile.css'\nimport FooterMain from '../components/FooterMain/FooterMain'\n\nconst Profile = props => {\n  return (\n    <div>\n      <section className=\"Welcome Flex CenteredVHContent\">\n        <img src=\"assets/welcomeBg.jpeg\" alt=\"\"/>\n        <h1 className=\"CenteredText WhiteText\">Welcome back, <span id=\"userName\">{props.context.user.userName}</span>!</h1>\n      </section>\n      { props.context.user.role === 'teacher' && <LaunchLessonSection props={props} />}\n      {/* <LaunchLessonSection props={props} /> */}\n      <JoinLesson props={props} />\n      { props.context.user.role === 'student' && <NotesTable props={props} />}\n      {/* <NotesTable props={props} /> */}\n      <LessonsTable props={props} />\n      <FooterMain />\n    </div> \n  );\n};\n\nexport default withUser(Profile)\n","import React, { useEffect, useRef } from 'react'\nimport { streamCall } from './VideoLogic'\n\nconst Video = ({ call, stream, teacher }) => {\n\tconst classmateVideo = useRef()\n\n\tuseEffect(() => {\n\t\tcall.answer(stream)\n\t\tstreamCall( call, classmateVideo)\n\t\treturn () => call.close()\n\t}, [])\n\n\treturn(\n\t\t<div className={`Video ${call.peer === teacher ? 'BigVideo' : ''}`}>\n\t\t  \t<video \n\t\t\t\tplaysInline \n\t\t\t\tcontrols \n\t\t\t\tmuted = {call.peer === teacher ? false : true}\n\t\t\t\tref={classmateVideo} \n\t\t\t\tautoPlay\n\t\t\t/>\n        </div>\n\t)\n}\n\nexport default Video","export const getCamera = (userVideo, setStream, role) => {\n\tnavigator.mediaDevices.getUserMedia({\n\t\tvideo: {\n\t\t\twidth: { ideal: 320 },\n\t\t\theight: { ideal: 240 } \n\t\t} ,\n\t\taudio: true\n\t  }).then(stream => {\n\t\t  console.log('stream ready')\n\t\tif (userVideo.current) {\n\t\t\tuserVideo.current.srcObject = stream\n\t\t\tsetStream(stream)\n\t\t}\n\t  })  \n}\n\nexport const streamCall = ( call, classmateVideo ) => {\n\t\tcall.on('stream', classmateVideoStream => {\n\t\t  console.log('receaving streaming', classmateVideoStream)\n\t\t  classmateVideo.current.srcObject = classmateVideoStream\n\t\t})\n}\n","import React from 'react'\nimport './Message.css'\n\nconst Message = ({ msg, alignment }) => {\n\tconst { userName, role, text, textType } = msg\n\tconsole.log('msg', userName, role, text, textType)\n\treturn (\n\t\t<article className={`Message ${alignment}`}>\n\t\t\t<h3>{`${userName ? userName : 'someone'}${role === 'teacher' ? ' - thecher' : ''}`}</h3>\n\t\t\t<p className={textType}>{text}</p>\n\t\t</article>\n\t)\n}\n\nexport default Message\n","import React, { useState, useRef, useEffect } from 'react'\nimport Message from './Message'\nimport './Chat.css'\n\nconst Chat = ( { chat, setChat, room, sendMsg, userId, userName, role } ) => {\n\n\tconst [ text, setText ] = useState('')\n\tconst [ textType, setTextType ] = useState('plainText')\n\tconst scrollRef = useRef()\n\n\tconst handleChange = e => {\n\t\tswitch (e.target.type) {\n\t\t\tcase 'checkbox' :\n\t\t\t\tsetTextType( e.target.checked ? 'codeText' : 'plainText')\n\t\t\t\tbreak\n\t\t\tcase 'text' :\n\t\t\t\tsetText( e.target.value )\n\t\t\t\tbreak\n\t\t\tdefault :\n\t\t\t\treturn\n\t\t}\n\t}\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault()\n\t\tsetChat(prevChat => [...prevChat, { userId, userName, role, text, textType }])\n\t\tsendMsg(room, { userId, userName, role, text, textType } )\n\t\tsetText('')\n\t\tsetTextType('plainText')\n\t}\n\n\tuseEffect(() => {\n\t\tif (chat[0] && chat[0].userId === userId) scrollRef.current.scrollIntoView({behavior:'smooth'})\n\t}, [ chat ])\n\n\treturn (\n\t\t<div \n\t\t\tid=\"Chat\"\n\t\t>\n\t\t\t<div \n\t\t\t\tid=\"ChatInput\"\n\t\t\t\tclassName=\"Flex AlignFlexStartContent\" \n\t\t\t>\n\t\t\t\t<form \n\t\t\t\t\tonSubmit={ handleSubmit }\n\t\t\t\t\tclassName=\"Flex SpaceBetween \"\n\t\t\t\t>\n\t\t\t\t\t<input \n\t\t\t\t\t\tclassName=\"Input\"\n\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\tid=\"textInput\"\n\t\t\t\t\t\tvalue ={ text }\n\t\t\t\t\t\trequired \n\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"Flex CenteredVHContent\">\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\ttype=\"checkbox\" \n\t\t\t\t\t\t\tname=\"type\" \n\t\t\t\t\t\t\tchecked={textType === 'codeText'}\n\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\thtmlFor=\"type\"\n\t\t\t\t\t\t>{'< >'}</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype=\"submit\" \n\t\t\t\t\t\tvalue=\"send\"\n\t\t\t\t\t\tclassName={ `NeuBtn ${text.length > 0 ? 'CTA' : ''}` }\n\t\t\t\t\t\tstyle = { role === 'student' ? { marginRight:'var(--large-unit)' } : { marginRight:'var(--little-unit)' } }\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t<div className=\"messages\">\n\t\t\t\t<div className=\"Flex ColumnReverse innerMessages\">\n\t\t\t\t\t{\n\t\t\t\t\t\tchat.length !== 0 && chat.map( msg => <Message \n\t\t\t\t\t\t\t\tmsg={msg}\n\t\t\t\t\t\t\t\talignment={msg.userId === userId ? 'sent' : 'received'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\t<div ref={scrollRef}></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Chat\n","import React, { useState, useEffect } from 'react'\nimport Chat from '../Chat/Chat'\nimport './Minibrowser.css'\nimport '../Tables/NotesTable.css'\n\nconst Minibrowser = props => {\n\tconst { \n\t\tsrcDoc, \n\t\tlessonName, \n\t\thandleRunMinibrowser, \n\t\tsendRunMinibrowser,\n\t\tchat, \n\t\tsetChat, \n\t\troom, \n\t\tsendMsg, \n\t\tuserId, \n\t\tuserName, \n\t\trole \n\t} = props\n\n\tconst [ isChatOpen, setIsChatOpen ] = useState(false)\n\tconst [ unreadMessage, setUnreadMessage ] = useState(false)\n\n\tconst handleRun = () => {\n\t\thandleRunMinibrowser()\n\t\tsendRunMinibrowser()\n\t}\n\n\tconst handleChat = () => {\n\t\tsetIsChatOpen(prevState => !prevState)\n\t}\n\n\tuseEffect(() => {\n\t\tif(isChatOpen) setUnreadMessage(false)\n\t\tif(!isChatOpen && chat.length >= 1) setUnreadMessage(true)\n\t}, [ chat ])\n\t\n\tuseEffect(() => {\n\t\tif(isChatOpen) setUnreadMessage(false)\n\t}, [ isChatOpen ])\n\n\treturn (\n\t\t<div className=\"Minibrowser Flex Column SpaceBetween\">\n\t\t\t<div \n\t\t\t\tclassName=\"Flex SpaceBetween AlignCenterContent\"\n\t\t\t\tid=\"BrowserHeader\"\n\t\t\t>\t\n\t\t\t<div id=\"MiniBrowserBtns\" className=\"Flex\">\n\t\t\t\t<button \n\t\t\t\t\tclassName='NeuBtn IconBtn .RunBtn'\n\t\t\t\t\tonClick={ handleRun }\n\t\t\t\t>\n\t\t\t\t\t<div className='iconContainer'>\n\t\t\t\t\t\t<div \n\t\t\t\t\t\t\tclassName='Run'>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t\t<button \n\t\t\t\t\tclassName={`NeuBtn IconBtn ${unreadMessage && 'CTA'}`}\n\t\t\t\t\tonClick={ handleChat }\n\t\t\t\t\tid=\"ChatBtn\"\n\t\t\t\t>\n\t\t\t\t\t<div className={ isChatOpen ? 'Code' : 'Chat' }></div>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t\t<div \n\t\t\t\t\tclassName=\"Flex AlignCenterContent\"\n\t\t\t\t\tid=\"LessonName\"\n\t\t\t\t>\n\t\t\t\t\t<p className=\"text\">Lesson :</p>\n\t\t\t\t\t<input \n\t\t\t\t\t\tclassName=\"Input\"\n\t\t\t\t\t\treadOnly \n\t\t\t\t\t\tvalue={ lessonName } \n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div \n\t\t\t\tclassName={!isChatOpen && 'Card'}\n\t\t\t\tid=\"IframeContainer\"\n\t\t\t>\t\t\n\t\t\t\t{\n\t\t\t\t\tisChatOpen && <Chat \n\t\t\t\t\t\tchat = {chat}\n\t\t\t\t\t\tsetChat = {setChat}\n\t\t\t\t\t\troom = {room}\n\t\t\t\t\t\tsendMsg = {sendMsg}\n\t\t\t\t\t\tuserId = {userId}\n\t\t\t\t\t\tuserName = {userName}\n\t\t\t\t\t\trole = {role}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\t!isChatOpen && <iframe\n\t\t\t\t\t\tsrcDoc={ srcDoc }\n\t\t\t\t\t\ttitle=\"output\"\n\t\t\t\t\t\tsandbox=\"allow-scripts\"\n\t\t\t\t\t\tframeBorder=\"0\"\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Minibrowser\n","import React, { useState, useEffect, useRef } from 'react'\nimport Editor from '../components/Editor/Editor'\nimport Video from '../components/Video/Video'\nimport Minibrowser from '../components/Minibrowser/Minibrowser'\nimport { getCamera } from '../components/Video/VideoLogic'\nimport { libraries, fakeConsole } from '../data/libraries'\nimport { \n\tinitiateSocket, \n\tgetIsConnected,\n\tdisconnectSocket, \n\tsendCode, \n\tgetCode, \n\tgetRunMinibrowser, \n\tsendRunMinibrowser, \n\tchangeTab, \n\tgetActiveTab,\n\tsendCallMeRequest,\n\tcallPeer,\n\tremoveClosedCall,\n\tgetTeachersPeerId, \n\tgetMsg,\n\tsendMsg\n} from '../socket/socket'\nimport Peer from 'peerjs'\nimport { withUser } from '../components/Auth/withUser'\nimport apiHandler from '../api/apiHandler'\nimport '../styles/Desk.css'\n\nconst Desk = props => {\n\tconsole.log('props', props)\n\n\tconst { \n\t\tuserName, \n\t\trole, \n\t\t_id : userId\n\t} = props.context.user\n\n\tconst { room, code: firstCode } = props.location.state\n\tconst [ library, typeOfSession  ] = room.split('-')\n\t\n\tconst [ html, setHtml ] = useState(firstCode.html)\n\tconst [ css, setCss ] = useState(firstCode.css)\n\tconst [ js, setJs ] = useState(firstCode.js)\n\n\tconst [ isPaused, setIsPaused ] = useState(false)\n\tconst [ incomingHtml, setIncomingHtml ] = useState(firstCode.html)\n\tconst [ incomingCss, setIncomingCss ] = useState(firstCode.css)\n\tconst [ incomingJs, setIncomingJs ] = useState(firstCode.js)\n\n\tconst [ isHtmlTabOpen, setIsHtmlTabOpen ] = useState(true)\n\tconst [ isCssTabOpen, setIsCssTabOpen ] = useState(false)\n\tconst [ isJsTabOpen, setIsJsTabOpen ] = useState(false)\n\n\tconst [ srcDoc, setSrcDoc ] = useState('')\n\tconst [ miniBrowserCounter, setMinibrowserCounter ] = useState(0)\n\t//chat\n\tconst [ chat, setChat] = useState([])\n\n\t// video\n\tconst userVideo = useRef()\n\tconst [ stream, setStream ] = useState()\n\tconst [ teacher, setTeacher] = useState()\n\t\n\t//peer\n\tconst [ myPeer, setMyPeer] = useState('')\n\tconst [ peerId, setPeerId ] = useState(null)\n\tconst [ calls, setCalls ] = useState([])\n\n\tconst [ socketConnected, setSocketConnected ] = useState(false)\n\n\tconst handleChange = (value, lang) => {\n\t\tswitch(lang) {\n\t\t\tcase 'xml':\n\t\t\t  setHtml(value)\n\t\t\t  role === 'teacher' && sendCode(room, {\n\t\t\t\thtml:value,\n\t\t\t\tcss, \n\t\t\t\tjs\n\t\t\t}, userId)\n\t\t\t  break\n\t\t\tcase 'css':\n\t\t\t  setCss(value)\n\t\t\t  role === 'teacher' && sendCode(room, {\n\t\t\t\thtml,\n\t\t\t\tcss:value, \n\t\t\t\tjs\n\t\t\t}, userId)\n\t\t\t  break\n\t\t\tcase 'javascript':\n\t\t\t\tsetJs(value)\n\t\t\t\trole === 'teacher' && sendCode(room, {\n\t\t\t\t\thtml,\n\t\t\t\t\tcss, \n\t\t\t\t\tjs:value\n\t\t\t\t}, userId)\n\t\t\t\tbreak\n\t\t\t\tcase 'jsx':\n\t\t\t\t\tsetJs(value)\n\t\t\t\t\trole === 'teacher' && sendCode(room, {\n\t\t\t\t\t\thtml,\n\t\t\t\t\t\tcss, \n\t\t\t\t\t\tjs:value\n\t\t\t\t\t}, userId)\n\t\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t  return\n\t\t  }\n\t}\n\n\tconst handleRunMinibrowser = () => {\n\t\tconst libraryTag = libraries[library]\n\t\t\n\t\tconst compiledSrc = `\n\t\t\t<!DOCTYPE html>\n\t\t\t<html>\n\t\t\t<head>\n\t\t\t\t<meta charset=\"UTF-8\">\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\t\t\t\t<meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n\t\t\t\t<title>HTML Document</title>\n\t\t\t\t${ libraryTag }\n\t\t\t\t<style>\n\t\t\t\t${ css }\n\t\t\t\t</style>\n\t\t\t\t${fakeConsole.css}\n\t\t\t</head>\n\t\t\t<body>\n\t\t\t\t${ html }\n\t\t\t\t${fakeConsole.html}\n\t\t\t</body>\n\t\t\t${fakeConsole.js}\n\t\t\t<script ${ library === 'react' ? 'type=text/babel' : ''}>\n\t\t\t\t${ js }\n\t\t\t</script>\n\t\t\t</html>\n\t\t`\n\t\tsetSrcDoc(compiledSrc)\n\t}\n\n\tconst openTab = e => {\n\t\t\n\t\tsetIsHtmlTabOpen(false)\n\t\tsetIsCssTabOpen(false)\n\t\tsetIsJsTabOpen(false)\n\t\n\t\tswitch (e.target.name) {\n\t\t  case 'htmlTab':\n\t\t\tsetIsHtmlTabOpen(true)\n\t\t\trole === 'teacher' && changeTab( room, true, false, false )\t\n\t\t\tbreak\n\t\t  case 'cssTab':\n\t\t\tsetIsCssTabOpen(true)\n\t\t\trole === 'teacher' && changeTab( room, false, true, false )\t\n\t\t\tbreak;\n\t\t  case 'jsTab':\n\t\t\tsetIsJsTabOpen(true)\n\t\t\trole === 'teacher' && changeTab( room, false, false, true )\t\n\t\t\tbreak;\n\t\t  default:\n\t\t\tsetIsHtmlTabOpen(true)\n\t\t}\n\t}\n\n\tconst handleSendRunMinibrowser = () => {\n\t\trole === 'teacher' && sendRunMinibrowser( room, userName )\n\t} \n\n\tconst handleSave = () => {\n\t\tconst note = {\n\t\t\tlesson: room,\n\t\t\tstudent: userId,\n\t\t\thtml,\n\t\t\tcss,\n\t\t\tjs,\n\t\t\tlibrary\n\t\t}\n\n\t\tapiHandler\n\t\t\t.createNote(note)\n\t\t\t.then( data => console.log(data))\n\t\t\t.catch(err => console.error(err))\n\t}\n\n\t//when component mounts initialize socket and start listening to code changing, chat messages, browser run, and tab change \n\tuseEffect(() => {\n\t\tinitiateSocket(room, userId, role)\n\t\tgetCode(code => {\n\t\t\tsetIncomingHtml(code.html)\n\t\t\tsetIncomingCss(code.css)\n\t\t\tsetIncomingJs(code.js)\n\t\t})\n\t\tgetIsConnected(setSocketConnected)\n\t\tgetTeachersPeerId(setTeacher)\n\t\tgetRunMinibrowser(setMinibrowserCounter, miniBrowserCounter)\n\t\tgetActiveTab(setIsHtmlTabOpen, setIsCssTabOpen, setIsJsTabOpen)\n\n\t\tgetMsg(setChat)\n\n\t\tgetCamera(userVideo, setStream, role)\n\t\t\n\t\tconst myPeer = new Peer(undefined, {\n\t\t\tsecure: true, \n\t\t\thost: process.env.REACT_APP_PEER_SERVER_URL, \n\t\t\tport: 443\n    \t})\n\t\tsetMyPeer(myPeer)\n\t\tmyPeer.on('open', id => {\n\t\t\tsetPeerId(id)\t\n\t\t})\n\t\tmyPeer.on('error', id => {\n\t\t\tconsole.log('error', id)\t\n\t\t})\n\n\t\tremoveClosedCall(setCalls)\n\n\t\treturn disconnectSocket\n\n\t}, [])\n\t\n\tuseEffect(() => {\n\t\tif (!isPaused) {\n\t\t  setHtml(incomingHtml)\n\t\t  setCss(incomingCss)\n\t\t  setJs(incomingJs)\n\t\t}\n\t  }, [ incomingHtml, incomingCss, incomingJs ])\n\t\n\t  useEffect(() => {\n\t\tif (!isPaused) {\n\t\t  setHtml(incomingHtml)\n\t\t  setCss(incomingCss)\n\t\t  setJs(incomingJs)\n\t\t}\n\t  }, [ isPaused ])\n\n\t//run minibrowser when triggered\n\tuseEffect(handleRunMinibrowser, [ miniBrowserCounter ])\n\n\t//start peer connection\n\tuseEffect(() => {\n\t\tif (peerId && stream) {\n\t\t\tif(typeOfSession === 'lesson' || role === 'teacher') callPeer(stream, myPeer, setCalls)\n\t\t\tsendCallMeRequest(peerId, room) \n\t\t\tmyPeer.on('call', call => setCalls(prevCalls => [ ...prevCalls, call ]))\n\t\t}\n\t}, [ peerId, stream ])\n\n\treturn (\n\t\t<>\n\t\t\t<div \n\t\t\t\tid=\"DeskContainer\"\n\t\t\t\tclassName=\"BgPrimary\"\n\t\t\t>\n\t\t\t\t<div className=\"panel\">\n\t\t\t\t\t<div \n\t\t\t\t\t\tclassName=\"Flex AlignCenterContent SpaceBetween BgPrimary\"\n\t\t\t\t\t\tid=\"Tab\"\t\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"AlignCenterContent Flex\">\n\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\tname=\"htmlTab\" \n\t\t\t\t\t\t\t\tclassName={`NeuBtn ${ isHtmlTabOpen ? 'Down' : '' }`} \n\t\t\t\t\t\t\t\tonClick={openTab}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\thtml\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\tname=\"cssTab\" \n\t\t\t\t\t\t\t\tclassName={`NeuBtn ${ isCssTabOpen ? 'Down' : '' }`} \n\t\t\t\t\t\t\t\tonClick={openTab}>css</button>\n\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\tname=\"jsTab\" \n\t\t\t\t\t\t\t\tclassName={`NeuBtn ${ isJsTabOpen ? 'Down' : '' }`} \n\t\t\t\t\t\t\t\tonClick={openTab}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tjs\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Flex\">\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\trole ==='student' && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\t\t\tonClick= {\n\t\t\t\t\t\t\t\t\t\t\t() =>{\n\t\t\t\t\t\t\t\t\t\t\t\tsetIsPaused(prevPaused => !prevPaused)\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tclassName={`NeuBtn ${isPaused ? 'Down' : ''} IconBtn`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className='iconContainer'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\tisPaused \n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'Play' \n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'Pause'\n\t\t\t\t\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\t\t\tid=\"SaveBtn\" \n\t\t\t\t\t\t\t\t\t\t\tonClick= {handleSave}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"NeuBtn IconBtn\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className='iconContainer'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='Save'>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"Flex Column Card BgPrimary EditorsWrapper\">\n\t\t\t\t\t\t<Editor \n\t\t\t\t\t\t\tlanguage=\"xml\"\n\t\t\t\t\t\t\tvalue={ html }\n\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\topen={ isHtmlTabOpen }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Editor \n\t\t\t\t\t\t\tlanguage=\"css\"\n\t\t\t\t\t\t\tvalue={ css }\n\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\topen={ isCssTabOpen }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Editor \n\t\t\t\t\t\t\tlanguage={ library === 'react' ? 'jsx' : 'javascript' }\n\t\t\t\t\t\t\tvalue={ js }\n\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\topen={ isJsTabOpen }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"panel\">\n\t\t\t\t\t<Minibrowser \n\t\t\t\t\t\tsrcDoc={ srcDoc }\n\t\t\t\t\t\tlessonName={ room }\n\t\t\t\t\t\thandleRunMinibrowser={ handleRunMinibrowser }\n\t\t\t\t\t\tsendRunMinibrowser={ handleSendRunMinibrowser }\n\t\t\t\t\t\tchat = {chat}\n\t\t\t\t\t\tsetChat = {setChat}\n\t\t\t\t\t\troom = {room}\n\t\t\t\t\t\tsendMsg = {sendMsg}\n\t\t\t\t\t\tuserId = {userId}\n\t\t\t\t\t\tuserName = {userName}\n\t\t\t\t\t\trole = {role}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"VideoContainer\">\n\t\t\t\t\t{\n\t\t\t\t\t\t(typeOfSession !== 'session' || role === 'teacher') && (\n\t\t\t\t\t\t\t<div className={`Video ${role === 'teacher' ? 'BigVideo' : ''}`}>\n\t\t\t\t\t\t\t\t<video playsInline controls muted ref={userVideo} autoPlay/>\n\t\t\t\t\t\t\t\t<h2>{peerId}</h2>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\tcalls.map(call => <Video key={call.peer} call={call} stream={stream} teacher={teacher} />)\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default withUser(Desk)\n","import React from \"react\"\nimport { Switch, Route } from \"react-router-dom\"\nimport NavMain from \"./components/NavMain/NavMain\"\nimport Home from \"./pages/Home\"\nimport Signin from \"./pages/Signin\"\nimport Signup from \"./pages/Signup\"\nimport ProtectedRoute from \"./components/ProtectedRoute\"\nimport Profile from \"./pages/Profile\"\nimport Desk from './pages/Desk'\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <NavMain />\n      <Switch>\n        <Route exact path=\"/\" component={ Home } />\n        <Route exact path=\"/signin\" component={ Signin } />\n        <Route exact path=\"/signup\" component={ Signup } />\n        <ProtectedRoute exact path=\"/desk\" component={ Desk } />\n        <ProtectedRoute exact path=\"/profile\" component={ Profile } />\n      </Switch>\n    </div>\n  )\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport UserProvider from \"./components/Auth/UserProvider\";\nimport App from \"./App\";\n\nimport \"./styles/reset.css\";\nimport \"./styles/global.css\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <UserProvider>\n      <App />\n    </UserProvider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}