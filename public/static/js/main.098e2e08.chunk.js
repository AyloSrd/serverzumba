(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},130:function(e,t){},133:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=133},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),a=n.n(s),o=n(63),r=n.n(o),i=n(9),l=n(15),d=n(16),j=n(19),u=n(18),h=n(64),b=n.n(h).a.create({baseURL:"https://cooode.herokuapp.com",withCredentials:!0});function x(e){if(e.response.data)throw console.log(e.response&&e.response.data),e;throw e}var m=function(e){return b.post("/api/auth/signup",e).then((function(e){return e.data})).catch(x)},p=function(e){return b.post("/api/auth/signin",e).then((function(e){return e.data})).catch(x)},O=function(){return b.get("/api/auth/isLoggedIn").then((function(e){return e.data})).catch(x)},g=function(){return b.get("/api/auth/logout").then((function(e){return e.data})).catch(x)},f=function(e){return b.get("/api/notes/all/".concat(e)).then((function(e){return e.data})).catch(x)},v=function(e){return b.post("/api/notes",e).then((function(e){return e.data})).catch(x)},C=function(e){return b.delete("/api/notes/".concat(e)).then((function(e){return e.data})).catch(x)},N=function(e){return b.get("/api/lessons/student/".concat(e)).then((function(e){return e.data})).catch(x)},y=function(e){return b.delete("/api/lessons/".concat(e)).then((function(e){return e.data})).catch(x)},w=a.a.createContext(),T=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={user:null,isLoggedIn:!1,isLoading:!0},e.setUser=function(t){e.setState({user:t,isLoggedIn:!0})},e.removeUser=function(){e.setState({user:null,isLoggedIn:!1})},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;O().then((function(t){e.setState({user:t,isLoggedIn:!0,isLoading:!1})})).catch((function(t){e.setState({user:null,isLoggedIn:!1,isLoading:!1})}))}},{key:"render",value:function(){var e={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading};return Object(c.jsx)(w.Provider,{value:e,children:this.props.children})}}]),n}(s.Component),k=n(3),A=n(12),B=function(e){return function(t){return Object(c.jsx)(w.Consumer,{children:function(n){return Object(c.jsx)(e,Object(A.a)(Object(A.a)({},t),{},{context:n}))}})}},S=(n(91),B((function(e){var t=e.context;return Object(c.jsxs)("nav",{className:"NavMain Flex AlignCenterContent",children:[Object(c.jsx)(i.b,{exact:!0,to:"/",children:Object(c.jsxs)("h3",{className:"logo text",children:["C",Object(c.jsx)("span",{id:"logoO",children:"\xf6"}),"de"]})}),Object(c.jsxs)("ul",{className:"nav-list",children:[t.isLoggedIn&&Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsx)("li",{className:"Flex CenteredVHContent",children:Object(c.jsx)("li",{className:"Flex CenteredVHContent",children:Object(c.jsx)(i.b,{to:"/profile",children:Object(c.jsx)("div",{className:"NeuBtn Flex CenteredVHContent CTA",children:Object(c.jsx)("p",{children:t.user&&t.user.userName})})})})}),Object(c.jsx)("li",{className:"Flex CenteredVHContent",children:Object(c.jsx)("p",{onClick:function(){g().then((function(){t.removeUser()})).catch((function(e){console.log(e)}))},children:"Logout"})})]}),!t.isLoggedIn&&Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsx)("li",{className:"Flex CenteredVHContent",children:Object(c.jsx)(i.b,{to:"/signin",children:"Sign in"})}),Object(c.jsx)("li",{className:"Flex CenteredVHContent",children:Object(c.jsx)(i.b,{to:"/signup",children:Object(c.jsx)("div",{className:"NeuBtn CTA Flex CenteredVHContent",children:Object(c.jsx)("p",{children:"Sign up"})})})})]})]})]})}))),F=(n(96),function(){return Object(c.jsx)("div",{children:Object(c.jsxs)("header",{className:"Flex Column Header",children:[Object(c.jsx)("img",{src:"assets/header.png",alt:"https://unsplash.com/photos/KWrNwBE87EY?utm_source=unsplash&utm_medium=referral&utm_content=creditShareLink"}),Object(c.jsx)("div",{id:"TitleHeader",children:Object(c.jsxs)("h1",{className:"WhiteText",children:["Live Interactive",Object(c.jsx)("br",{}),"Coding Lessons"]})}),Object(c.jsx)("div",{id:"SubtitleHeader",children:Object(c.jsx)("p",{id:"description",children:"C\xf6de is a modern school platform with a seamless coding experience. The integrated interactive editor and mini-browser, as well as the web-conference system, give a natural dimension to your academic journey"})})]})})}),L=(n(97),function(){return Object(c.jsxs)("section",{className:"ValueProposition",children:[Object(c.jsx)("h2",{className:"CenteredText WhiteText",children:"Learning Better and Faster"}),Object(c.jsxs)("div",{className:"Flex JustifyCenterContent AlignFlexStartContent",id:"valuePropositionContainer",children:[Object(c.jsxs)("article",{className:"Flex Column",children:[Object(c.jsx)("div",{className:"Card iconBig",children:Object(c.jsx)("div",{className:" Join"})}),Object(c.jsx)("h3",{className:"CenteredText WhiteText",children:"Join"}),Object(c.jsx)("p",{className:"Marginless CenteredText",children:"Join your favourite teacher on private e-classroom for live and interactive coding-lessons."})]}),Object(c.jsxs)("article",{className:"Flex Column",children:[Object(c.jsx)("div",{className:"Card iconBig",children:Object(c.jsx)("div",{className:"Learn"})}),Object(c.jsx)("h3",{className:"CenteredText WhiteText",children:"Learn"}),Object(c.jsx)("p",{className:"Marginless CenteredText",children:"You can pause at any time and experiment with the code. Then just hit play and resume the teacher's stream"})]}),Object(c.jsxs)("article",{className:"Flex Column",children:[Object(c.jsx)("div",{className:"Card iconBig",children:Object(c.jsx)("div",{className:"Relearn"})}),Object(c.jsx)("h3",{className:"CenteredText WhiteText",children:"Re-learn"}),Object(c.jsx)("p",{className:"Marginless CenteredText",children:"A save-button allows you to save entire code pieces and re-access them later, to maximize your learning experience"})]})]})]})}),W=(n(98),function(){return Object(c.jsx)("footer",{className:"FooterMain Flex CenteredVHContent",children:Object(c.jsx)("p",{className:"CenteredText",children:"Made by A\xfflo"})})}),I=(n(99),function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(F,{}),Object(c.jsx)("main",{children:Object(c.jsx)(L,{})}),Object(c.jsx)(W,{})]})}),D=n(17),E=(n(47),function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:""},e.alertText=Object(s.createRef)(),e.handleChange=function(t){var n=t.target.name,c="file"===t.target.type?t.target.files[0]:"checkbox"===t.target.type?t.target.checked:t.target.value;e.setState(Object(D.a)({},n,c))},e.handleSubmit=function(t){t.preventDefault(),p(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/profile")})).catch((function(t){console.log(t),e.alertText.current.style.display="block"}))},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{ref:this.alertText,style:{display:"none"},className:"Card BgTertiary AlertMsg",children:Object(c.jsxs)("p",{children:["Wrong credentials !",Object(c.jsx)("br",{}),"Please try again"]})}),Object(c.jsxs)("form",{className:"Flex Column AlignCenterContent InsetCard Form",onChange:this.handleChange,onSubmit:this.handleSubmit,children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{className:"Input",type:"email",id:"email",name:"email",placeholder:"ada@lovelace.dev"}),Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{className:"Input",type:"password",id:"password",name:"password",placeholder:"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf"}),Object(c.jsx)("button",{className:"NeuBtn CTA",id:"SubmitBtn",children:"Submit"})]})]})}}]),n}(s.Component));E.contextType=w;var H=Object(k.g)(E),M=function(e){return Object(c.jsx)(H,{})},V=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={userName:"",email:"",password:"",role:"student"},e.alertText=Object(s.createRef)(),e.handleChange=function(t){var n="file"===t.target.type?t.target.files[0]:"checkbox"===t.target.type?t.target.checked:t.target.value,c=t.target.name;e.setState(Object(D.a)({},c,n))},e.handleSubmit=function(t){t.preventDefault(),m(e.state).then((function(t){e.context.setUser(t),console.log(t),e.props.history.push("/profile")})).catch((function(t){console.log(t),e.alertText.current.style.display="block"}))},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{ref:this.alertText,style:{display:"none"},className:"Card BgTertiary AlertMsg",children:Object(c.jsxs)("p",{children:["This email is already taken !",Object(c.jsx)("br",{}),"Please try again"]})}),Object(c.jsxs)("form",{className:"Flex Column AlignCenterContent InsetCard Form",onChange:this.handleChange,onSubmit:this.handleSubmit,children:[Object(c.jsx)("label",{htmlFor:"userName",children:"User name"}),Object(c.jsx)("input",{className:"Input",type:"text",id:"userName",name:"userName",onChange:this.handleChange,placeholder:"Ada"}),Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{className:"Input",type:"email",id:"email",name:"email",onChange:this.handleChange,placeholder:"ada@lovelace.dev"}),Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{className:"Input",type:"password",id:"password",name:"password",onChange:this.handleChange,placeholder:"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf"}),Object(c.jsx)("label",{htmlFor:"password",children:"I am a ..."}),Object(c.jsx)("div",{className:"Select BgPrimary",children:Object(c.jsxs)("select",{className:"BgPrimary",name:"role",value:this.state.role,onChange:this.handleChange,children:[Object(c.jsx)("option",{value:"",children:"--Pleaseselect--"}),Object(c.jsx)("option",{value:"student",children:"Student"}),Object(c.jsx)("option",{value:"teacher",children:"Teacher"})]})}),Object(c.jsx)("button",{id:"SubmitBtn",className:"NeuBtn CTA",children:"Submit"})]})]})}}]),n}(s.Component);V.contextType=w;var P,U=Object(k.g)(V),R=function(e){return Object(c.jsx)(U,{})},_=n(66),J=B((function(e){var t=e.component,n=e.context,s=Object(_.a)(e,["component","context"]);return n.isLoading?null:n.isLoggedIn?Object(c.jsx)(k.b,Object(A.a)(Object(A.a)({},s),{},{render:function(e){return Object(c.jsx)(t,Object(A.a)({},e))}})):Object(c.jsx)(k.a,{to:"/signin"})})),Y=function(e,t,n){var c=e.props,s=t.room,a=t.code;c.history.push({pathname:n,state:{room:s,code:a}})},q={js:" ",react:'\n\t\t\t<script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"><\/script>\n\t\t\t<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"><\/script>\n\t\t\t<script src="https://unpkg.com/babel-standalone@6/babel.min.js"><\/script>\n\t\t',vue:'\n\t\t\t<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"><\/script>\n\t\t'},z={js:{html:'<h1 id="test">Yo, welcome to your Vanilla js</h1>',css:"h1 {\n\tcolor: #333;\n\tfont-family: 'Helvetica', sans-serif;\n\ttext-align: center;\n}",js:'document.getElementById("test").innerHTML += " lesson!"'},react:{html:'<div id="root"></div>',css:"h1 {\n\tcolor: #333;\n\tfont-family: 'Helvetica', sans-serif;\n\ttext-align: center;\n}",js:"const App = props => <h1>Yo,{props.welcome}</h1>\nReactDOM.render(<App welcome=\" welcome to your React lesson!\" />, document.getElementById('root'))\n"},vue:{html:'<h1 id="welcome">{{ welcome }}</h1>',css:"h1 {\n\tcolor: #333;\n\tfont-family: 'Helvetica', sans-serif;\n}",js:"new Vue({\n\tel: '#welcome',\n\tdata: {\n\t\twelcome: \"Yo, welcome to your Vue lesson\"\n\t}\n})"}},G='\n<button class="togglerd5ti9Wa73x4A1y4p" id="togglerd5ti9Wa73x4A1y4p">></button>\n<div class="consoled5ti9Wa73x4A1y4p collapsedd5ti9Wa73x4A1y4p" id="consoled5ti9Wa73x4A1y4p"><ul id="logsd5ti9Wa73x4A1y4p"></ul></div>\n',K='\n<style>\n\t\t\t\n\t*, *::before, *::after {\n\t\tbox-sizing: border-box;\n\t}\n\n\t#consoled5ti9Wa73x4A1y4p {\n\t\toverflow: auto;\n\t\tpadding: 10px 10px 0 10px;\n\t}\n\t.consoled5ti9Wa73x4A1y4p.collapsedd5ti9Wa73x4A1y4p {\n\t\twidth: 20px;\n\t\theight: 20px;\n\t\tbottom: 5px;\n\t\tmargin-left: -10px;\n\t\tborder-radius: 10px;\n\t\tz-index: 1000;\n\t}\n\n\t.consoled5ti9Wa73x4A1y4p {\n\t\tposition: fixed;\n\t\tbottom: 15px;\n\t\tleft: 50%;\n\t\tmargin-left: -200px;\n\t\twidth: 400px;\n\t\tmax-width:100%;\n\t\theight: 200px;\n\t\tmargin-right: 5px;\n\t\tbackground-color: black;\n\t\ttransition: 200ms ease-out;\n\t}\n\n\t#logsd5ti9Wa73x4A1y4p {\n\t\tlist-style: none;\n\t\tmargin-left: 0;\n\t\tpadding-left: 1.2em;\n\t\ttext-indent: -1.2em;\n\t}\n\n\t#logsd5ti9Wa73x4A1y4p li {\n\t\tcolor: white;\n\t\tfont-family: monospace;\n\t}\n\n\t#logsd5ti9Wa73x4A1y4p li:before {\n\t\tcontent: ">";\n\t\tdisplay: block;\n\t\tfloat: left;\n\t\twidth: 1.2em;;\n\t}\n\n\t.togglerd5ti9Wa73x4A1y4p {\n\t\tposition: fixed;\n\t\tbottom: 5px;\n\t\tleft: 50%;\n\t\twidth: 20px;\n\t\theight: 20px;\n\t\tmargin-left: -10px;\n\t\tborder: none;\n\t\tborder-radius: 10px;\n\t\tz-index: 5000;\n\t\tbackground-color: black;\n\t\tcolor: white;\n\t\ttransform: rotate(-90deg);\n\t\ttransition: 200ms ease-out;\n\t}\n\n\t.togglerd5ti9Wa73x4A1y4p.closed5ti9Wa73x4A1y4p {\n\t\ttransform: rotate(90deg);\n\t\tbottom: 205px;\n\t\ttransition: 200ms ease-out;\n\t}\n\n\t#togglerd5ti9Wa73x4A1y4p:focus {\n\t\toutline:0;\n\t}\n\n</style>\t\n',X="\n<script>\n\t//get fake-console and fake-logs references\n\tconst fakeConsoled5ti9Wa73x4A1y4p = document.getElementById('consoled5ti9Wa73x4A1y4p')\n\tconst logsd5ti9Wa73x4A1y4p = document.getElementById('logsd5ti9Wa73x4A1y4p')\n\t//ovverride console.log\n\tconst backUpConsoleLogd5ti9Wa73x4A1y4p = console.log\n\tconsole.log = (...args) => {\n\t\targs.forEach(arg => {\n\t\t\tbackUpConsoleLogd5ti9Wa73x4A1y4p(arg)\n\t\t\tconst li = document.createElement('li')\n\t\t\tli.innerHTML = arg\n\t\t\tlogsd5ti9Wa73x4A1y4p.append(li)\n\t\t})\t\t\t\n\t}\n\t//log errors too\n\twindow.addEventListener('error', ({ message }) => console.log(message))\n\t//toggle open/close console\n\tconst toggleConsoled5ti9Wa73x4A1y4p = e => {\n\t\tfakeConsoled5ti9Wa73x4A1y4p.classList.toggle(\"collapsedd5ti9Wa73x4A1y4p\")\n\t\te.target.classList.toggle('closed5ti9Wa73x4A1y4p')\n\t}\n\tconst togglerd5ti9Wa73x4A1y4p = document.getElementById('togglerd5ti9Wa73x4A1y4p')\n\ttogglerd5ti9Wa73x4A1y4p.addEventListener('click', toggleConsoled5ti9Wa73x4A1y4p)\n<\/script>\n\n",Q=(n(100),function(e){var t=e.props,n=e.language,s=e.uuidv4;return console.log("card",t),Object(c.jsxs)("div",{className:"Flex Column CenteredVHContent LaunchLessonCard",children:[Object(c.jsx)("div",{className:"ImgContainer LaunchSessionImg",children:Object(c.jsx)("img",{src:"assets/".concat(n,"Logo.jpg"),alt:"".concat(n," logo")})}),Object(c.jsx)("button",{className:"NeuBtn LaunchLessonBtn",onClick:function(){return Y(t,{room:"".concat(n,"-lesson-").concat(s()),code:z[n]},"/desk")},children:"Launch lesson"})]})}),Z=n(139),$=(n(101),function(e){var t=Object.keys(q);return console.log("section",e,t),Object(c.jsxs)("div",{className:"LaunchSessionSection",children:[Object(c.jsx)("div",{children:Object(c.jsx)("h2",{className:"CenteredText WhiteText",children:"Launch a new session"})}),Object(c.jsx)("div",{className:"Flex",children:t.map((function(t){return Object(c.jsx)(Q,{props:e,language:t,uuidv4:Z.a},t)}))})]})}),ee=n(2),te=(n(102),function(e){var t=Object(s.useState)(""),n=Object(ee.a)(t,2),a=n[0],o=n[1];return Object(c.jsx)("div",{className:"JoinLesson Flex CenteredVHContent",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{className:"CenteredText WhiteText",children:"Join a new Lesson"}),Object(c.jsxs)("form",{className:"Flex Column FormContainer CenteredVHContent",onSubmit:function(t){var n=a.split("-")[0];t.preventDefault(),Y(e,{room:a,code:z[n]},"/desk")},children:[Object(c.jsx)("label",{htmlFor:"join-lesson",children:'Paste the Lesson Room and hit "Join"'}),Object(c.jsx)("input",{className:"Input",id:"join-lesson",type:"text",value:a,onChange:function(e){return o(e.target.value)},required:!0}),Object(c.jsx)("div",{id:"JoinBtn",children:Object(c.jsx)("input",{className:"NeuBtn CTA",type:"submit",value:"Join"})})]})]})})}),ne=(n(48),function(e){var t=e.props,n=t.context.user._id;console.log("props",t);var a=Object(s.useState)(""),o=Object(ee.a)(a,2),r=o[0],i=o[1];return Object(s.useEffect)((function(){f(n).then((function(e){return i(e)})).catch((function(e){return console.error("student notes",e)}))}),[]),console.log(r),Object(c.jsxs)("div",{className:"TableSection Flex Column AlignCenterContent",children:[Object(c.jsx)("h2",{className:"CenteredText WhiteText",children:"Your notes"}),Object(c.jsx)("div",{className:"InsetCard TableContainer",id:"NotesTableContainer",children:Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{className:"text",children:"Topic"}),Object(c.jsx)("th",{className:"text",children:"Date"})]})}),Object(c.jsxs)("tbody",{children:[r[0]?r.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"text",children:e.library}),Object(c.jsx)("td",{className:"text",children:e.updated}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{className:"NeuBtn IconBtn",id:"GoToBtn",onClick:function(){return n=e.lesson,c=e.html,s=e.css,a=e.js,void Y({props:t},{room:n,code:{html:c,css:s,js:a}},"/desk");var n,c,s,a},children:Object(c.jsx)("div",{className:"Code"})})}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{className:"NeuBtn IconBtn",id:"DeleteBtn",onClick:function(){return function(e){console.log("id",e),C(e).then((function(e){console.log(e),i((function(t){return t.filter((function(t){return t._id!==e}))}))}))}(e._id)},children:Object(c.jsx)("div",{className:"Delete Flex CenteredVHContent",children:Object(c.jsx)("div",{className:"InnerDelete"})})})})]},e._id)})):Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"text",colSpan:"5",children:"You haven't coded yet"}),Object(c.jsx)("td",{}),Object(c.jsx)("td",{})]}),Object(c.jsx)("tr",{children:Object(c.jsx)("td",{})})]})]})})]})}),ce=function(e){var t=e.props,n=t.context.user,a=n._id,o=n.role;console.log("props",t);var r=Object(s.useState)(""),i=Object(ee.a)(r,2),l=i[0],d=i[1];return Object(s.useEffect)((function(){N(a).then((function(e){return d(e)})).catch((function(e){return console.error("student lessons",e)}))}),[]),console.log(l),Object(c.jsxs)("div",{className:"TableSection Flex Column AlignCenterContent",children:[Object(c.jsx)("h2",{className:"CenteredText WhiteText",children:"Your lessons"}),Object(c.jsx)("div",{className:"InsetCard TableContainer",id:"LessonsTableContainer",children:Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{className:"text",children:"Topic"}),Object(c.jsx)("th",{className:"text",children:"Teacher"}),Object(c.jsx)("th",{className:"text",children:"Date"})]})}),Object(c.jsxs)("tbody",{children:[l[0]?l.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"text",children:e.library}),Object(c.jsx)("td",{className:"text",children:e.teacher.userName}),Object(c.jsx)("td",{className:"text",children:e.updated}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{className:"NeuBtn IconBtn",id:"GoToBtn",onClick:function(){return n=e.lesson,c=e.html,s=e.css,a=e.js,void Y({props:t},{room:n,code:{html:c,css:s,js:a}},"/desk");var n,c,s,a},children:Object(c.jsx)("div",{className:"Code"})})}),"teacher"===o&&Object(c.jsx)("td",{children:Object(c.jsx)("button",{className:"NeuBtn IconBtn",id:"DeleteBtn",onClick:function(){return function(e){console.log("id",e),y(e).then((function(e){console.log(e),d((function(t){return t.filter((function(t){return t._id!==e}))}))}))}(e._id)},children:Object(c.jsx)("div",{className:"Delete Flex CenteredVHContent",children:Object(c.jsx)("div",{className:"InnerDelete"})})})})]},e._id)})):Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"text",colSpan:"5",children:"You haven't coded yet"}),Object(c.jsx)("td",{}),Object(c.jsx)("td",{})]}),Object(c.jsx)("tr",{children:Object(c.jsx)("td",{})})]})]})})]})},se=(n(103),B((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsxs)("section",{className:"Welcome Flex CenteredVHContent",children:[Object(c.jsx)("img",{src:"assets/welcomeBg.jpeg",alt:""}),Object(c.jsxs)("h1",{className:"CenteredText WhiteText",children:["Welcome back, ",Object(c.jsx)("span",{id:"userName",children:e.context.user.userName}),"!"]})]}),"teacher"===e.context.user.role&&Object(c.jsx)($,{props:e}),Object(c.jsx)(te,{props:e}),"student"===e.context.user.role&&Object(c.jsx)(ne,{props:e}),Object(c.jsx)(ce,{props:e}),Object(c.jsx)(W,{})]})}))),ae=n(26),oe=(n(104),n(105),n(49),n(50),n(106),n(107),n(108),n(67)),re=function(e){var t=e.language,n=e.value,s=e.onChange,a=e.open;return Object(c.jsx)("div",{className:"editor-container ".concat(a?"":"collapsed"),children:Object(c.jsx)(oe.Controlled,{onBeforeChange:function(e,n,c){s(c,t)},value:n,className:"code-mirror-wrapper",options:{lineWrapping:!0,lint:!0,mode:t,theme:"material",lineNumbers:!0}})})},ie=function(e){var t=e.call,n=e.stream,a=e.teacher,o=Object(s.useRef)();return Object(s.useEffect)((function(){return t.answer(n),function(e,t){e.on("stream",(function(e){console.log("receaving streaming",e),t.current.srcObject=e}))}(t,o),function(){return t.close()}}),[]),Object(c.jsx)("div",{className:"Video ".concat(t.peer===a&&"BigVideo"),children:Object(c.jsx)("video",{playsInline:!0,ref:o,autoPlay:!0})})},le=(n(109),function(e){var t=e.srcDoc,n=e.lessonName,s=e.handleRunMinibrowser,a=e.sendRunMinibrowser;return Object(c.jsxs)("div",{className:"Minibrowser Flex Column SpaceBetween",children:[Object(c.jsxs)("div",{className:"Flex SpaceBetween AlignCenterContent",id:"BrowserHeader",children:[Object(c.jsx)("button",{className:"NeuBtn IconBtn",onClick:function(){s(),a()},id:"RunBtn",children:Object(c.jsx)("div",{className:"iconContainer",children:Object(c.jsx)("div",{className:"Run"})})}),Object(c.jsxs)("div",{className:"Flex AlignCenterContent",id:"LessonName",children:[Object(c.jsx)("p",{className:"text",children:"Lesson :"}),Object(c.jsx)("input",{className:"Input",readOnly:!0,value:n})]})]}),Object(c.jsx)("div",{className:"Card",id:"IframeContainer",children:Object(c.jsx)("iframe",{srcDoc:t,title:"output",sandbox:"allow-scripts",frameBorder:"0"})})]})}),de=n(68),je=n.n(de),ue=function(){console.log("Disconnecting socket..."),P&&P.disconnect()},he=function(e,t,n){P&&P.emit("coding",t,e,n)},be=function(e,t,n,c){P&&P.emit("changeTab",e,t,n,c)},xe=n(69),me=n.n(xe),pe=(n(134),B((function(e){console.log("props",e);var t=e.context.user,n=t.userName,a=t.role,o=t._id,r=e.location.state,i=r.room,l=r.code,d=i.split("-"),j=Object(ee.a)(d,2),u=j[0],h=(j[1],Object(s.useState)(l.html)),b=Object(ee.a)(h,2),x=b[0],m=b[1],p=Object(s.useState)(l.css),O=Object(ee.a)(p,2),g=O[0],f=O[1],C=Object(s.useState)(l.js),N=Object(ee.a)(C,2),y=N[0],w=N[1],T=Object(s.useState)(!1),k=Object(ee.a)(T,2),A=k[0],B=k[1],S=Object(s.useState)(l.html),F=Object(ee.a)(S,2),L=F[0],W=F[1],I=Object(s.useState)(l.css),D=Object(ee.a)(I,2),E=D[0],H=D[1],M=Object(s.useState)(l.js),V=Object(ee.a)(M,2),U=V[0],R=V[1],_=Object(s.useState)(!0),J=Object(ee.a)(_,2),Y=J[0],z=J[1],Q=Object(s.useState)(!1),Z=Object(ee.a)(Q,2),$=Z[0],te=Z[1],ne=Object(s.useState)(!1),ce=Object(ee.a)(ne,2),se=ce[0],oe=ce[1],de=Object(s.useState)(""),xe=Object(ee.a)(de,2),pe=xe[0],Oe=xe[1],ge=Object(s.useState)(0),fe=Object(ee.a)(ge,2),ve=fe[0],Ce=fe[1],Ne=Object(s.useRef)(),ye=Object(s.useState)(),we=Object(ee.a)(ye,2),Te=we[0],ke=we[1],Ae=Object(s.useState)(),Be=Object(ee.a)(Ae,2),Se=Be[0],Fe=Be[1],Le=Object(s.useState)(""),We=Object(ee.a)(Le,2),Ie=We[0],De=We[1],Ee=Object(s.useState)(null),He=Object(ee.a)(Ee,2),Me=He[0],Ve=He[1],Pe=Object(s.useState)([]),Ue=Object(ee.a)(Pe,2),Re=Ue[0],_e=Ue[1],Je=Object(s.useState)(!1),Ye=Object(ee.a)(Je,2),qe=(Ye[0],Ye[1]),ze=function(e,t){switch(t){case"xml":m(e),"teacher"===a&&he(i,{html:e,css:g,js:y},o);break;case"css":f(e),"teacher"===a&&he(i,{html:x,css:e,js:y},o);break;case"javascript":case"jsx":w(e),"teacher"===a&&he(i,{html:x,css:g,js:e},o);break;default:return}},Ge=function(){var e='\n\t\t\t<!DOCTYPE html>\n\t\t\t<html>\n\t\t\t<head>\n\t\t\t\t<meta charset="UTF-8">\n\t\t\t\t<meta name="viewport" content="width=device-width, initial-scale=1.0">\n\t\t\t\t<meta http-equiv="X-UA-Compatible" content="ie=edge">\n\t\t\t\t<title>HTML Document</title>\n\t\t\t\t'.concat(q[u],"\n\t\t\t\t<style>\n\t\t\t\t").concat(g,"\n\t\t\t\t</style>\n\t\t\t\t").concat(K,"\n\t\t\t</head>\n\t\t\t<body>\n\t\t\t\t").concat(x,"\n\t\t\t\t").concat(G,"\n\t\t\t</body>\n\t\t\t").concat(X,"\n\t\t\t<script ").concat("react"===u?"type=text/babel":"",">\n\t\t\t\t").concat(y,"\n\t\t\t<\/script>\n\t\t\t</html>\n\t\t");Oe(e)},Ke=function(e){switch(z(!1),te(!1),oe(!1),e.target.name){case"htmlTab":z(!0),"teacher"===a&&be(i,!0,!1,!1);break;case"cssTab":te(!0),"teacher"===a&&be(i,!1,!0,!1);break;case"jsTab":oe(!0),"teacher"===a&&be(i,!1,!1,!0);break;default:z(!0)}};return Object(s.useEffect)((function(){!function(e,t,n){(P=je()("https://cooode.herokuapp.com"))&&e&&P.emit("join",e,t,n)}(i,o,a),function(e){if(!P)return!0;P.on("sendingCode",(function(t,n){console.log("Websocket event received (".concat(t,")! from ").concat(n)),e(t)}))}((function(e){W(e.html),H(e.css),R(e.js)})),function(e){P.on("connect",(function(){e(P.connected)}))}(qe),function(e){if(!P)return!0;P.on("teacher is",(function(t){return e(t)}))}(Fe),function(e,t){P&&P.on("runMinibrowser",(function(n){console.log("".concat(n," just run de the minibrowser")),e(t+1)}))}(Ce,ve),function(e,t,n){P&&P.on("changeTab",(function(c,s,a){e(c),t(s),n(a)}))}(z,te,oe),function(e,t,n){navigator.mediaDevices.getUserMedia({video:{width:{ideal:320},height:{ideal:240}},audio:!0}).then((function(n){console.log("stream ready"),e.current&&(e.current.srcObject=n,t(n))}))}(Ne,ke);var e=new me.a(void 0,{secure:!0,host:"peerjs-server-codeschool.herokuapp.com",port:443});return De(e),e.on("open",(function(e){console.log("peer id",e),Ve(e)})),e.on("error",(function(e){console.log("error",e)})),function(e){P&&P.on("I quit",(function(t){e((function(e){return e.filter((function(e){return e.peer!==t}))}))}))}(_e),ue}),[]),Object(s.useEffect)((function(){A||(m(L),f(E),w(U),console.log("in useEffect",L,E,U))}),[L,E,U]),Object(s.useEffect)((function(){A||(m(L),f(E),w(U))}),[A]),Object(s.useEffect)(Ge,[ve]),Object(s.useEffect)((function(){Me&&Te&&(!function(e,t,n){P&&P.on("callMe",(function(c){var s=t.call(c,e);console.log("calling",c,s),n((function(e){return[].concat(Object(ae.a)(e),[s])}))}))}(Te,Ie,_e),console.log("sending call request"),function(e,t){P&&P.emit("callMe",e,t)}(Me,i),Ie.on("call",(function(e){return _e((function(t){return[].concat(Object(ae.a)(t),[e])}))})))}),[Me,Te]),console.log("peers"),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{id:"DeskContainer",className:"BgPrimary",children:[Object(c.jsxs)("div",{className:"panel",children:[Object(c.jsxs)("div",{className:"Flex AlignCenterContent SpaceBetween BgPrimary",id:"Tab",children:[Object(c.jsxs)("div",{className:"AlignCenterContent Flex",children:[Object(c.jsx)("button",{name:"htmlTab",className:"NeuBtn ".concat(Y?"Down":""),onClick:Ke,children:"html"}),Object(c.jsx)("button",{name:"cssTab",className:"NeuBtn ".concat($?"Down":""),onClick:Ke,children:"css"}),Object(c.jsx)("button",{name:"jsTab",className:"NeuBtn ".concat(se?"Down":""),onClick:Ke,children:"js"})]}),Object(c.jsx)("div",{className:"Flex",children:"student"===a&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{onClick:function(){B((function(e){return!e}))},className:"NeuBtn ".concat(A?"Down":""," IconBtn"),children:Object(c.jsx)("div",{className:"iconContainer",children:Object(c.jsx)("div",{className:A?"Play":"Pause"})})}),Object(c.jsx)("button",{id:"SaveBtn",onClick:function(){v({lesson:i,student:o,html:x,css:g,js:y,library:u}).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)}))},className:"NeuBtn IconBtn",children:Object(c.jsx)("div",{className:"iconContainer",children:Object(c.jsx)("div",{className:"Save"})})})]})})]}),Object(c.jsxs)("div",{className:"Flex Column Card BgPrimary EditorsWrapper",children:[Object(c.jsx)(re,{language:"xml",value:x,onChange:ze,open:Y}),Object(c.jsx)(re,{language:"css",value:g,onChange:ze,open:$}),Object(c.jsx)(re,{language:"react"===u?"jsx":"javascript",value:y,onChange:ze,open:se})]})]}),Object(c.jsx)("div",{className:"panel",children:Object(c.jsx)(le,{srcDoc:pe,lessonName:i,handleRunMinibrowser:Ge,sendRunMinibrowser:function(){"teacher"===a&&function(e,t){P&&P.emit("runMinibrowser",e,t)}(i,n)}})}),Object(c.jsxs)("div",{id:"VideoContainer",children:[Object(c.jsxs)("div",{className:"Video",children:[Object(c.jsx)("video",{playsInline:!0,controls:!0,muted:!0,ref:Ne,autoPlay:!0}),Object(c.jsx)("h2",{children:Me})]}),Re.map((function(e,t){return Object(c.jsx)(ie,{call:e,stream:Te,teacher:Se},t)}))]})]})})}))),Oe=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(S,{}),Object(c.jsxs)(k.d,{children:[Object(c.jsx)(k.b,{exact:!0,path:"/",component:I}),Object(c.jsx)(k.b,{exact:!0,path:"/signin",component:M}),Object(c.jsx)(k.b,{exact:!0,path:"/signup",component:R}),Object(c.jsx)(J,{exact:!0,path:"/desk",component:pe}),Object(c.jsx)(J,{exact:!0,path:"/profile",component:se})]})]})};n(135),n(136);r.a.render(Object(c.jsx)(i.a,{children:Object(c.jsx)(T,{children:Object(c.jsx)(Oe,{})})}),document.getElementById("root"))},47:function(e,t,n){},48:function(e,t,n){},91:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[137,1,2]]]);
//# sourceMappingURL=main.098e2e08.chunk.js.map