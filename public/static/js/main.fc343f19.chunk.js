(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},125:function(e,t){},128:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=128},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),a=n.n(s),o=n(60),r=n.n(o),i=n(9),l=n(15),j=n(16),d=n(19),u=n(18),h=n(61),b=n.n(h).a.create({baseURL:"https://cooode.herokuapp.com",withCredentials:!0});function m(e){if(e.response.data)throw console.log(e.response&&e.response.data),e;throw e}var x=function(e){return b.post("/api/auth/signup",e).then((function(e){return e.data})).catch(m)},O=function(e){return b.post("/api/auth/signin",e).then((function(e){return e.data})).catch(m)},p=function(){return b.get("/api/auth/isLoggedIn").then((function(e){return e.data})).catch(m)},f=function(){return b.get("/api/auth/logout").then((function(e){return e.data})).catch(m)},g=function(e){return b.get("/api/notes/all/".concat(e)).then((function(e){return e.data})).catch(m)},v=function(e){return b.post("/api/notes",e).then((function(e){return e.data})).catch(m)},N=function(e){return b.delete("/api/notes/".concat(e)).then((function(e){return e.data})).catch(m)},C=function(e){return b.get("/api/lessons/student/".concat(e)).then((function(e){return e.data})).catch(m)},y=function(e){return b.delete("/api/lessons/".concat(e)).then((function(e){return e.data})).catch(m)},w=a.a.createContext(),S=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={user:null,isLoggedIn:!1,isLoading:!0},e.setUser=function(t){e.setState({user:t,isLoggedIn:!0})},e.removeUser=function(){e.setState({user:null,isLoggedIn:!1})},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;p().then((function(t){e.setState({user:t,isLoggedIn:!0,isLoading:!1})})).catch((function(t){e.setState({user:null,isLoggedIn:!1,isLoading:!1})}))}},{key:"render",value:function(){var e={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading};return Object(c.jsx)(w.Provider,{value:e,children:this.props.children})}}]),n}(s.Component),k=n(3),B=n(12),T=function(e){return function(t){return Object(c.jsx)(w.Consumer,{children:function(n){return Object(c.jsx)(e,Object(B.a)(Object(B.a)({},t),{},{context:n}))}})}},F=(n(88),T((function(e){var t=e.context;return Object(c.jsxs)("nav",{className:"NavMain Flex AlignCenterContent",children:[Object(c.jsx)(i.b,{exact:!0,to:"/",children:Object(c.jsxs)("h3",{className:"logo text",children:["C",Object(c.jsx)("span",{id:"logoO",children:"\xf6"}),"de"]})}),Object(c.jsxs)("ul",{className:"nav-list",children:[t.isLoggedIn&&Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsx)("li",{className:"Flex CenteredVHContent",children:Object(c.jsx)(i.b,{to:"/profile",children:t.user&&t.user.userName})}),Object(c.jsx)("li",{className:"Flex CenteredVHContent",children:Object(c.jsx)("p",{onClick:function(){f().then((function(){t.removeUser()})).catch((function(e){console.log(e)}))},children:"Logout"})})]}),!t.isLoggedIn&&Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsx)("li",{className:"Flex CenteredVHContent",children:Object(c.jsx)(i.b,{to:"/signin",children:"Sign in"})}),Object(c.jsx)("li",{className:"Flex CenteredVHContent",children:Object(c.jsx)("div",{className:"NeuBtn Flex CenteredVHContent",children:Object(c.jsx)(i.b,{to:"/signup",children:"Sign up"})})})]})]})]})}))),L=(n(93),function(){return Object(c.jsx)("footer",{className:"FooterMain Flex CenteredVHContent",children:Object(c.jsx)("p",{className:"CenteredText",children:"Made by A\xfflo"})})}),I=(n(94),function(){return Object(c.jsxs)("div",{children:[Object(c.jsxs)("header",{className:"Flex Column CenteredVHContent",children:[Object(c.jsx)("div",{id:"TitleHeader",children:Object(c.jsxs)("h1",{className:"text",children:["Live Interactive",Object(c.jsx)("br",{}),"Coding Lessons"]})}),Object(c.jsx)("div",{id:"SubtitleHeader",children:Object(c.jsx)("p",{className:"CenteredText",id:"description",children:"C\xf6de is a modern school platform with a seamless coding experience. The integrated interactive editor and mini-browser, as well as the web-conference system, give a natural dimension to your academic journey"})})]}),Object(c.jsxs)("main",{children:[Object(c.jsx)("section",{id:"section-1"}),Object(c.jsxs)("section",{id:"section-3",children:[Object(c.jsx)("div",{children:Object(c.jsx)("h2",{className:"text",children:"Section 2"})}),Object(c.jsxs)("div",{className:"Flex JustifyCenterContent FlexStart",id:"valueProposition",children:[Object(c.jsxs)("article",{className:"Flex Column",children:[Object(c.jsx)("div",{className:"Card iconBig",children:Object(c.jsx)("div",{className:" Join"})}),Object(c.jsx)("h3",{className:"CenteredText",children:"Join"}),Object(c.jsx)("p",{className:"Marginless CenteredText",children:"Join your favourite teacher on private e-classroom for live and interactive coding-lessons."})]}),Object(c.jsxs)("article",{className:"Flex Column",children:[Object(c.jsx)("div",{className:"Card iconBig",children:Object(c.jsx)("div",{className:"Learn"})}),Object(c.jsx)("h3",{className:"CenteredText",children:"Learn"}),Object(c.jsx)("p",{className:"Marginless CenteredText",children:"You can pause at any time and experiment with the code. Then just hit play and resume the teacher's stream"})]}),Object(c.jsxs)("article",{className:"Flex Column",children:[Object(c.jsx)("div",{className:"Card iconBig",children:Object(c.jsx)("div",{className:"Relearn"})}),Object(c.jsx)("h3",{className:"CenteredText",children:"Re-learn"}),Object(c.jsx)("p",{className:"Marginless CenteredText",children:"A save-button allows you to save entire code pieces and re-access them later, to maximize your learning experience"})]})]})]})]}),Object(c.jsx)(L,{})]})}),D=n(17),H=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={email:"",password:""},e.handleChange=function(t){var n=t.target.name,c="file"===t.target.type?t.target.files[0]:"checkbox"===t.target.type?t.target.checked:t.target.value;e.setState(Object(D.a)({},n,c))},e.handleSubmit=function(t){t.preventDefault(),O(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/")})).catch((function(e){console.log(e)}))},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("form",{onChange:this.handleChange,onSubmit:this.handleSubmit,children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{type:"email",id:"email",name:"email"}),Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",id:"password",name:"password"}),Object(c.jsx)("button",{children:"Submit"})]})}}]),n}(s.Component);H.contextType=w;var M=Object(k.g)(H),V=function(e){return Object(c.jsx)(M,{})},E=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={userName:"",email:"",password:"",role:"student"},e.alertText=Object(s.createRef)(),e.handleChange=function(t){var n="file"===t.target.type?t.target.files[0]:"checkbox"===t.target.type?t.target.checked:t.target.value,c=t.target.name;e.setState(Object(D.a)({},c,n))},e.handleSubmit=function(t){t.preventDefault(),x(e.state).then((function(t){e.context.setUser(t),console.log(t),e.props.history.push("/")})).catch((function(t){console.log(t),e.alertText.current.style.display="block"}))},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{ref:this.alertText,style:{display:"none"},children:Object(c.jsxs)("p",{children:["This email is already taken !",Object(c.jsx)("br",{}),"Please try again"]})}),Object(c.jsxs)("form",{onChange:this.handleChange,onSubmit:this.handleSubmit,children:[Object(c.jsx)("label",{htmlFor:"userName",children:"User name"}),Object(c.jsx)("input",{type:"text",id:"userName",name:"userName",onChange:this.handleChange}),Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{type:"email",id:"email",name:"email",onChange:this.handleChange}),Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",id:"password",name:"password",onChange:this.handleChange}),Object(c.jsx)("label",{htmlFor:"pet-select",children:"I am a ..."}),Object(c.jsxs)("select",{name:"role",value:this.state.role,onChange:this.handleChange,children:[Object(c.jsx)("option",{value:"",children:"--Please choose an option--"}),Object(c.jsx)("option",{value:"student",children:"Student"}),Object(c.jsx)("option",{value:"teacher",children:"Teacher"})]}),Object(c.jsx)("button",{children:"Submit"})]})]})}}]),n}(s.Component);E.contextType=w;var A,U=Object(k.g)(E),P=function(e){return Object(c.jsx)(U,{})},R=n(63),_=T((function(e){var t=e.component,n=e.context,s=Object(R.a)(e,["component","context"]);return n.isLoading?null:n.isLoggedIn?Object(c.jsx)(k.b,Object(B.a)(Object(B.a)({},s),{},{render:function(e){return Object(c.jsx)(t,Object(B.a)({},e))}})):Object(c.jsx)(k.a,{to:"/signin"})})),J=function(e,t,n){var c=e.props,s=t.room,a=t.code;c.history.push({pathname:n,state:{room:s,code:a}})},Y={js:" ",react:'\n\t\t\t<script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"><\/script>\n\t\t\t<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"><\/script>\n\t\t\t<script src="https://unpkg.com/babel-standalone@6/babel.min.js"><\/script>\n\t\t',vue:'\n\t\t\t<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"><\/script>\n\t\t'},q={js:{html:'<h1 id="test">Yo, welcome to your Vanilla js</h1>',css:"h1 {\n\tcolor: #333;\n\tfont-family: 'Helvetica', sans-serif;\n\ttext-align: center;\n}",js:'document.getElementById("test").innerHTML += " lesson!"'},react:{html:'<div id="root"></div>',css:"h1 {\n\tcolor: #333;\n\tfont-family: 'Helvetica', sans-serif;\n\ttext-align: center;\n}",js:"const App = props => <h1>Yo,{props.welcome}</h1>\nReactDOM.render(<App welcome=\" welcome to your React lesson!\" />, document.getElementById('root'))\n"},vue:{html:'<h1 id="welcome">{{ welcome }}</h1>',css:"h1 {\n\tcolor: #333;\n\tfont-family: 'Helvetica', sans-serif;\n}",js:"new Vue({\n\tel: '#welcome',\n\tdata: {\n\t\twelcome: \"Yo, welcome to your Vue lesson\"\n\t}\n})"}},W=(n(95),function(e){var t=e.props,n=e.language,s=e.uuidv4;return console.log("card",t),Object(c.jsxs)("div",{className:"Flex Column CenteredVHContent LaunchLessonCard",children:[Object(c.jsx)("div",{className:"ImgContainer LaunchSessionImg",children:Object(c.jsx)("img",{src:"assets/".concat(n,"Logo.jpg"),alt:"".concat(n," logo")})}),Object(c.jsx)("button",{className:"NeuBtn LaunchLessonBtn",onClick:function(){return J(t,{room:"".concat(n,"-lesson-").concat(s()),code:q[n]},"/desk")},children:"Launch lesson"})]})}),G=n(134),z=function(e){var t=Object.keys(Y);return console.log("section",e,t),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsx)("h2",{children:"Launch a new session"})}),Object(c.jsx)("div",{className:"Flex",children:t.map((function(t){return Object(c.jsx)(W,{props:e,language:t,uuidv4:G.a},t)}))})]})},X=n(2),K=(n(96),function(e){var t=Object(s.useState)(""),n=Object(X.a)(t,2),a=n[0],o=n[1];return Object(c.jsx)("div",{className:"Flex CenteredVHContent",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{className:"text CenteredText subH2",children:"Join a new Lesson"}),Object(c.jsx)("p",{className:"text CenteredText subH2",children:'Paste the Lesson Room and hit "Join"'}),Object(c.jsxs)("form",{className:"Flex Column FormContainer CenteredVHContent",onSubmit:function(t){var n=a.split("-")[0];t.preventDefault(),J(e,{room:a,code:q[n]},"/desk")},children:[Object(c.jsx)("input",{className:"Input",type:"text",value:a,onChange:function(e){return o(e.target.value)},required:!0}),Object(c.jsx)("div",{id:"JoinBtn",children:Object(c.jsx)("input",{className:"NeuBtn",type:"submit",value:"Join lesson"})})]})]})})}),Q=(n(47),function(e){var t=e.props,n=t.context.user._id;console.log("props",t);var a=Object(s.useState)(""),o=Object(X.a)(a,2),r=o[0],i=o[1];return Object(s.useEffect)((function(){g(n).then((function(e){return i(e)})).catch((function(e){return console.error("student notes",e)}))}),[]),console.log(r),Object(c.jsxs)("div",{className:"Flex Column AlignCenterContent",children:[Object(c.jsx)("h1",{className:"text",children:"Your notes"}),Object(c.jsx)("div",{className:"InsetCard TableContainer",id:"NotesTableContainer",children:Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{className:"text",children:"Topic"}),Object(c.jsx)("th",{className:"text",children:"Date"})]})}),Object(c.jsxs)("tbody",{children:[r[0]?r.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"text",children:e.library}),Object(c.jsx)("td",{className:"text",children:e.updated}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{className:"NeuBtn IconBtn",id:"GoToBtn",onClick:function(){return n=e.lesson,c=e.html,s=e.css,a=e.js,void J({props:t},{room:n,code:{html:c,css:s,js:a}},"/desk");var n,c,s,a},children:Object(c.jsx)("div",{className:"Code"})})}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{className:"NeuBtn IconBtn",id:"DeleteBtn",onClick:function(){return function(e){console.log("id",e),N(e).then((function(e){console.log(e),i((function(t){return t.filter((function(t){return t._id!==e}))}))}))}(e._id)},children:Object(c.jsx)("div",{className:"Delete Flex CenteredVHContent",children:Object(c.jsx)("div",{className:"InnerDelete"})})})})]},e._id)})):Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"text",colSpan:"5",children:"You haven't coded yet"}),Object(c.jsx)("td",{}),Object(c.jsx)("td",{})]}),Object(c.jsx)("tr",{children:Object(c.jsx)("td",{})})]})]})})]})}),Z=function(e){var t=e.props,n=t.context.user,a=n._id,o=n.role;console.log("props",t);var r=Object(s.useState)(""),i=Object(X.a)(r,2),l=i[0],j=i[1];return Object(s.useEffect)((function(){C(a).then((function(e){return j(e)})).catch((function(e){return console.error("student lessons",e)}))}),[]),console.log(l),Object(c.jsxs)("div",{className:"Flex Column AlignCenterContent",children:[Object(c.jsx)("h1",{className:"text",children:"Your lessons"}),Object(c.jsx)("div",{className:"InsetCard TableContainer",id:"LessonsTableContainer",children:Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{className:"text",children:"Topic"}),Object(c.jsx)("th",{className:"text",children:"Teacher"}),Object(c.jsx)("th",{className:"text",children:"Date"})]})}),Object(c.jsxs)("tbody",{children:[l[0]?l.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"text",children:e.library}),Object(c.jsx)("td",{className:"text",children:e.teacher.userName}),Object(c.jsx)("td",{className:"text",children:e.updated}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{className:"NeuBtn IconBtn",id:"GoToBtn",onClick:function(){return n=e.lesson,c=e.html,s=e.css,a=e.js,void J({props:t},{room:n,code:{html:c,css:s,js:a}},"/desk");var n,c,s,a},children:Object(c.jsx)("div",{className:"Code"})})}),"teacher"===o&&Object(c.jsx)("td",{children:Object(c.jsx)("button",{className:"NeuBtn IconBtn",id:"DeleteBtn",onClick:function(){return function(e){console.log("id",e),y(e).then((function(e){console.log(e),j((function(t){return t.filter((function(t){return t._id!==e}))}))}))}(e._id)},children:Object(c.jsx)("div",{className:"Delete Flex CenteredVHContent",children:Object(c.jsx)("div",{className:"InnerDelete"})})})})]},e._id)})):Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"text",colSpan:"5",children:"You haven't coded yet"}),Object(c.jsx)("td",{}),Object(c.jsx)("td",{})]}),Object(c.jsx)("tr",{children:Object(c.jsx)("td",{})})]})]})})]})},$=(n(97),T((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsxs)("h1",{className:"text",children:["Welcome back, ",Object(c.jsx)("span",{id:"userName",children:e.context.user.userName}),"!"]}),"teacher"===e.context.user.role&&Object(c.jsx)(z,{props:e}),Object(c.jsx)(K,{props:e}),"student"===e.context.user.role&&Object(c.jsx)(Q,{props:e}),Object(c.jsx)(Z,{props:e}),Object(c.jsx)(L,{})]})}))),ee=n(26),te=(n(98),n(99),n(100),n(101),n(102),n(103),n(64)),ne=function(e){var t=e.language,n=e.value,s=e.onChange,a=e.open;return Object(c.jsx)("div",{className:"editor-container ".concat(a?"":"collapsed"),children:Object(c.jsx)(te.Controlled,{onBeforeChange:function(e,n,c){s(c,t)},value:n,className:"code-mirror-wrapper",options:{lineWrapping:!0,lint:!0,mode:t,theme:"material",lineNumbers:!0}})})},ce=function(e){var t=e.call,n=e.stream,a=e.teacher,o=Object(s.useRef)();return Object(s.useEffect)((function(){return t.answer(n),function(e,t){e.on("stream",(function(e){console.log("receaving streaming",e),t.current.srcObject=e}))}(t,o),function(){return t.close()}}),[]),Object(c.jsx)("div",{className:"Video ".concat(t.peer===a&&"BigVideo"),children:Object(c.jsx)("video",{playsInline:!0,ref:o,autoPlay:!0})})},se=(n(104),function(e){var t=e.srcDoc,n=e.lessonName,s=e.handleRunMinibrowser,a=e.sendRunMinibrowser;return Object(c.jsxs)("div",{className:"Minibrowser Flex Column SpaceBetween",children:[Object(c.jsxs)("div",{className:"Flex SpaceBetween AlignCenterContent",id:"BrowserHeader",children:[Object(c.jsx)("button",{className:"NeuBtn IconBtn",onClick:function(){s(),a()},id:"RunBtn",children:Object(c.jsx)("div",{className:"iconContainer",children:Object(c.jsx)("div",{className:"Run"})})}),Object(c.jsxs)("div",{className:"Flex AlignCenterContent",id:"LessonName",children:[Object(c.jsx)("p",{className:"text",children:"Lesson :"}),Object(c.jsx)("input",{className:"Input",readOnly:!0,value:n})]})]}),Object(c.jsx)("div",{className:"Card",id:"IframeContainer",children:Object(c.jsx)("iframe",{srcDoc:t,title:"output",sandbox:"allow-scripts",frameBorder:"0"})})]})}),ae=n(65),oe=n.n(ae),re=function(){console.log("Disconnecting socket..."),A&&A.disconnect()},ie=function(e,t,n){A&&A.emit("coding",t,e,n)},le=function(e,t,n,c){A&&A.emit("changeTab",e,t,n,c)},je=n(66),de=n.n(je),ue=(n(129),T((function(e){console.log("props",e);var t=e.context.user,n=t.userName,a=t.role,o=t._id,r=e.location.state,i=r.room,l=r.code,j=i.split("-"),d=Object(X.a)(j,2),u=d[0],h=(d[1],Object(s.useState)(l.html)),b=Object(X.a)(h,2),m=b[0],x=b[1],O=Object(s.useState)(l.css),p=Object(X.a)(O,2),f=p[0],g=p[1],N=Object(s.useState)(l.js),C=Object(X.a)(N,2),y=C[0],w=C[1],S=Object(s.useState)(!1),k=Object(X.a)(S,2),B=k[0],T=k[1],F=Object(s.useState)(l.html),L=Object(X.a)(F,2),I=L[0],D=L[1],H=Object(s.useState)(l.css),M=Object(X.a)(H,2),V=M[0],E=M[1],U=Object(s.useState)(l.js),P=Object(X.a)(U,2),R=P[0],_=P[1],J=Object(s.useState)(!0),q=Object(X.a)(J,2),W=q[0],G=q[1],z=Object(s.useState)(!1),K=Object(X.a)(z,2),Q=K[0],Z=K[1],$=Object(s.useState)(!1),te=Object(X.a)($,2),ae=te[0],je=te[1],ue=Object(s.useState)(""),he=Object(X.a)(ue,2),be=he[0],me=he[1],xe=Object(s.useState)(0),Oe=Object(X.a)(xe,2),pe=Oe[0],fe=Oe[1],ge=Object(s.useRef)(),ve=Object(s.useState)(),Ne=Object(X.a)(ve,2),Ce=Ne[0],ye=Ne[1],we=Object(s.useState)(),Se=Object(X.a)(we,2),ke=Se[0],Be=Se[1],Te=Object(s.useState)(""),Fe=Object(X.a)(Te,2),Le=Fe[0],Ie=Fe[1],De=Object(s.useState)(null),He=Object(X.a)(De,2),Me=He[0],Ve=He[1],Ee=Object(s.useState)([]),Ae=Object(X.a)(Ee,2),Ue=Ae[0],Pe=Ae[1],Re=Object(s.useState)(!1),_e=Object(X.a)(Re,2),Je=(_e[0],_e[1]),Ye=function(e,t){switch(t){case"xml":x(e),"teacher"===a&&ie(i,{html:e,css:f,js:y},o);break;case"css":g(e),"teacher"===a&&ie(i,{html:m,css:e,js:y},o);break;case"javascript":w(e),"teacher"===a&&ie(i,{html:m,css:f,js:e},o);break;default:return}},qe=function(){var e='\n\t\t\t<!DOCTYPE html>\n\t\t\t<html>\n\t\t\t<head>\n\t\t\t\t<meta charset="UTF-8">\n\t\t\t\t<meta name="viewport" content="width=device-width, initial-scale=1.0">\n\t\t\t\t<meta http-equiv="X-UA-Compatible" content="ie=edge">\n\t\t\t\t<title>HTML Document</title>\n\t\t\t\t'.concat(Y[u],"\n\t\t\t\t<style>\n\t\t\t\t").concat(f,"\n\t\t\t\t</style>\n\t\t\t</head>\n\t\t\t<body>\n\t\t\t\t").concat(m,"\n\t\t\t</body>\n\t\t\t<script ").concat("react"===u?"type=text/babel":"",">\n\t\t\t\t").concat(y,"\n\t\t\t<\/script>\n\t\t\t</html>\n\t\t");me(e)},We=function(e){switch(G(!1),Z(!1),je(!1),e.target.name){case"htmlTab":G(!0),le(i,!0,!1,!1);break;case"cssTab":Z(!0),le(i,!1,!0,!1);break;case"jsTab":je(!0),le(i,!1,!1,!0);break;default:G(!0)}};return Object(s.useEffect)((function(){!function(e,t,n){(A=oe()("https://cooode.herokuapp.com"))&&e&&A.emit("join",e,t,n)}(i,o,a),function(e){if(!A)return!0;A.on("sendingCode",(function(t,n){console.log("Websocket event received (".concat(t,")! from ").concat(n)),e(t)}))}((function(e){D(e.html),E(e.css),_(e.js)})),function(e){A.on("connect",(function(){e(A.connected)}))}(Je),function(e){if(!A)return!0;A.on("teacher is",(function(t){return e(t)}))}(Be),function(e,t){A&&A.on("runMinibrowser",(function(n){console.log("".concat(n," just run de the minibrowser")),e(t+1)}))}(fe,pe),function(e,t,n){A&&A.on("changeTab",(function(c,s,a){e(c),t(s),n(a)}))}(G,Z,je),function(e,t,n){navigator.mediaDevices.getUserMedia({video:{width:{ideal:320},height:{ideal:240}},audio:!0}).then((function(n){console.log("stream ready"),e.current&&(e.current.srcObject=n,t(n))}))}(ge,ye);var e=new de.a(void 0,{secure:!0,host:"peerjs-server-codeschool.herokuapp.com",port:443});return Ie(e),e.on("open",(function(e){console.log("peer id",e),Ve(e)})),e.on("error",(function(e){console.log("error",e)})),function(e){A&&A.on("I quit",(function(t){e((function(e){return e.filter((function(e){return e.peer!==t}))}))}))}(Pe),re}),[]),Object(s.useEffect)((function(){B||(x(I),g(V),w(R),console.log("in useEffect",I,V,R))}),[I,V,R]),Object(s.useEffect)((function(){B||(x(I),g(V),w(R))}),[B]),Object(s.useEffect)(qe,[pe]),Object(s.useEffect)((function(){Me&&Ce&&(!function(e,t,n){A&&A.on("callMe",(function(c){var s=t.call(c,e);console.log("calling",c,s),n((function(e){return[].concat(Object(ee.a)(e),[s])}))}))}(Ce,Le,Pe),console.log("sending call request"),function(e,t){A&&A.emit("callMe",e,t)}(Me,i),Le.on("call",(function(e){return Pe((function(t){return[].concat(Object(ee.a)(t),[e])}))})))}),[Me,Ce]),console.log("peers"),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{id:"DeskContainer",className:"BgPrimary",children:[Object(c.jsxs)("div",{className:"panel",children:[Object(c.jsxs)("div",{className:"Flex AlignCenterContent SpaceBetween BgPrimary",id:"Tab",children:[Object(c.jsxs)("div",{className:"AlignCenterContent Flex",children:[Object(c.jsx)("button",{name:"htmlTab",className:"NeuBtn ".concat(W?"Down":""),onClick:We,children:"html"}),Object(c.jsx)("button",{name:"cssTab",className:"NeuBtn ".concat(Q?"Down":""),onClick:We,children:"css"}),Object(c.jsx)("button",{name:"jsTab",className:"NeuBtn ".concat(ae?"Down":""),onClick:We,children:"js"})]}),Object(c.jsx)("div",{className:"Flex",children:"student"===a&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{onClick:function(){T((function(e){return!e}))},className:"NeuBtn ".concat(B?"Down":""," IconBtn"),children:Object(c.jsx)("div",{className:"iconContainer",children:Object(c.jsx)("div",{className:B?"Play":"Pause"})})}),Object(c.jsx)("button",{id:"SaveBtn",onClick:function(){v({lesson:i,student:o,html:m,css:f,js:y,library:u}).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)}))},className:"NeuBtn IconBtn",children:Object(c.jsx)("div",{className:"iconContainer",children:Object(c.jsx)("div",{className:"Save"})})})]})})]}),Object(c.jsxs)("div",{className:"Flex Column Card BgPrimary EditorsWrapper",children:[Object(c.jsx)(ne,{language:"xml",value:m,onChange:Ye,open:W}),Object(c.jsx)(ne,{language:"css",value:f,onChange:Ye,open:Q}),Object(c.jsx)(ne,{language:"javascript",value:y,onChange:Ye,open:ae})]})]}),Object(c.jsx)("div",{className:"panel",children:Object(c.jsx)(se,{srcDoc:be,lessonName:i,handleRunMinibrowser:qe,sendRunMinibrowser:function(){!function(e,t){A&&A.emit("runMinibrowser",e,t)}(i,n)}})}),Object(c.jsxs)("div",{id:"VideoContainer",children:[Object(c.jsxs)("div",{className:"Video",children:[Object(c.jsx)("video",{playsInline:!0,controls:!0,muted:!0,ref:ge,autoPlay:!0}),Object(c.jsx)("h2",{children:Me})]}),Ue.map((function(e,t){return Object(c.jsx)(ce,{call:e,stream:Ce,teacher:ke},t)}))]})]})})}))),he=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(F,{}),Object(c.jsxs)(k.d,{children:[Object(c.jsx)(k.b,{exact:!0,path:"/",component:I}),Object(c.jsx)(k.b,{exact:!0,path:"/signin",component:V}),Object(c.jsx)(k.b,{exact:!0,path:"/signup",component:P}),Object(c.jsx)(_,{exact:!0,path:"/desk",component:ue}),Object(c.jsx)(_,{exact:!0,path:"/profile",component:$})]})]})};n(130),n(131);r.a.render(Object(c.jsx)(i.a,{children:Object(c.jsx)(S,{children:Object(c.jsx)(he,{})})}),document.getElementById("root"))},47:function(e,t,n){},88:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){}},[[132,1,2]]]);
//# sourceMappingURL=main.fc343f19.chunk.js.map